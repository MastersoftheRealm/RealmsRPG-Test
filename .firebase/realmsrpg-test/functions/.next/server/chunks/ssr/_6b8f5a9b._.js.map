{"version":3,"sources":["../../../../src/components/layout/header.tsx","../../../../src/components/layout/protected-route.tsx","../../../../src/stores/index.ts","../../../../src/lib/utils/index.ts","../../../../src/lib/utils/string.ts","../../../../src/lib/utils/number.ts","../../../../src/lib/utils/array.ts","../../../../node_modules/next/src/shared/lib/image-external.tsx","../../../../node_modules/next/image.js","../../../../src/types/skills.ts","../../../../src/stores/character-creator-store.ts","../../../../node_modules/zustand/esm/middleware.mjs","../../../../src/types/abilities.ts","../../../../src/types/index.ts"],"sourcesContent":["/**\n * Main Navigation Header\n * =======================\n * Site-wide navigation with dropdowns\n */\n\n'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { usePathname } from 'next/navigation';\nimport { cn } from '@/lib/utils';\nimport { useAuth } from '@/hooks';\n\nconst navLinks = [\n  { href: '/library', label: 'Library' },\n  { href: '/characters', label: 'Characters' },\n  { href: '/codex', label: 'Codex' },\n  {\n    label: 'Rules',\n    dropdown: [\n      { href: '/rules', label: 'Core Rulebook' },\n      { href: '/resources', label: 'Resources' },\n    ],\n  },\n  {\n    label: 'Creators',\n    dropdown: [\n      { href: '/power-creator', label: 'Powers' },\n      { href: '/technique-creator', label: 'Techniques' },\n      { href: '/item-creator', label: 'Armaments' },\n    ],\n  },\n  {\n    label: 'RM Tools',\n    dropdown: [\n      { href: '/encounter-tracker', label: 'Encounter Tracker' },\n      { href: '/creature-creator', label: 'Creature Creator' },\n    ],\n  },\n];\n\nexport function Header() {\n  const pathname = usePathname();\n  const { user, signOut } = useAuth();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full bg-[#f6f6f6] border-b border-[#707070] h-20\">\n      <div className=\"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-24\">\n        <div className=\"flex items-center justify-between h-20 gap-14\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex-shrink-0\">\n            <Image\n              src=\"/images/LogoSmall.png\"\n              alt=\"Realms RPG\"\n              width={44}\n              height={49}\n              className=\"w-11 h-auto\"\n              priority\n            />\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden lg:flex items-center gap-14 flex-1 justify-center\">\n            {navLinks.map((item) => (\n              item.dropdown ? (\n                <NavDropdown key={item.label} item={item} pathname={pathname} />\n              ) : (\n                <Link\n                  key={item.href}\n                  href={item.href}\n                  className={cn(\n                    'font-semibold text-lg text-[#053357] hover:text-[#0a5a94] transition-colors whitespace-nowrap',\n                    pathname === item.href ? 'text-[#0a5a94]' : ''\n                  )}\n                >\n                  {item.label}\n                </Link>\n              )\n            ))}\n          </nav>\n\n          {/* Account Section */}\n          <div className=\"flex items-center gap-4\">\n            {user ? (\n              <div className=\"relative group\">\n                <button className=\"flex items-center gap-2\">\n                  <div className=\"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-bold\">\n                    {user.displayName?.charAt(0).toUpperCase() ?? user.email?.charAt(0).toUpperCase() ?? '?'}\n                  </div>\n                </button>\n                {/* Hover bridge: invisible pseudo-element to prevent dropdown from closing */}\n                <div className=\"hidden group-hover:block absolute right-0 top-full pt-4 before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-4\">\n                  <div className=\"w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2\">\n                    <Link href=\"/my-account\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\">\n                      My Account\n                    </Link>\n                    <button\n                      onClick={() => signOut()}\n                      className=\"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100\"\n                    >\n                      Sign Out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <Link href=\"/login\">\n                <Image\n                  src=\"/images/ProfileIcon.png\"\n                  alt=\"Sign In\"\n                  width={40}\n                  height={40}\n                  className=\"w-10 h-10\"\n                />\n              </Link>\n            )}\n\n            {/* Mobile menu button */}\n            <button\n              type=\"button\"\n              className=\"lg:hidden p-2 text-gray-600\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            >\n              <span className=\"sr-only\">Open menu</span>\n              {mobileMenuOpen ? (\n                <XIcon className=\"w-6 h-6\" />\n              ) : (\n                <MenuIcon className=\"w-6 h-6\" />\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Navigation */}\n      {mobileMenuOpen ? (\n        <div className=\"lg:hidden border-t border-gray-200 bg-white\">\n          <nav className=\"px-4 py-4 space-y-2\">\n            {navLinks.map((item) => (\n              item.dropdown ? (\n                <MobileDropdown key={item.label} item={item} pathname={pathname} />\n              ) : (\n                <Link\n                  key={item.href}\n                  href={item.href}\n                  className=\"block py-2 text-lg font-semibold text-primary-800\"\n                  onClick={() => setMobileMenuOpen(false)}\n                >\n                  {item.label}\n                </Link>\n              )\n            ))}\n          </nav>\n        </div>\n      ) : null}\n    </header>\n  );\n}\n\ninterface DropdownItem {\n  label: string;\n  href?: string;\n  dropdown?: { href: string; label: string }[];\n}\n\nfunction NavDropdown({ item, pathname }: { item: DropdownItem; pathname: string }) {\n  return (\n    <div className=\"relative group\">\n      <button className=\"font-semibold text-lg text-[#053357] hover:text-[#0a5a94] transition-colors flex items-center gap-1 whitespace-nowrap\">\n        {item.label}\n        <ChevronDownIcon className=\"w-4 h-4 group-hover:rotate-180 transition-transform\" />\n      </button>\n      {/* Hover bridge: invisible pseudo-element to prevent dropdown from closing when mouse moves from button to dropdown */}\n      <div className=\"hidden group-hover:block absolute top-full left-1/2 -translate-x-1/2 pt-2 before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-4\">\n        <div className=\"w-48 bg-[#f6f6f6] rounded-lg shadow-lg border border-[#707070] py-2\">\n          {item.dropdown?.map((subItem) => (\n            <Link\n              key={subItem.href}\n              href={subItem.href}\n              className={cn(\n                'block px-5 py-3 text-[#053357] hover:bg-gray-200 hover:text-[#0a5a94] transition-colors',\n                pathname === subItem.href ? 'bg-gray-100 text-[#0a5a94]' : ''\n              )}\n            >\n              {subItem.label}\n            </Link>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction MobileDropdown({ item, pathname }: { item: DropdownItem; pathname: string }) {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div>\n      <button\n        className=\"flex items-center justify-between w-full py-2 text-lg font-semibold text-[#053357]\"\n        onClick={() => setOpen(!open)}\n      >\n        {item.label}\n        <ChevronDownIcon className={cn('w-4 h-4 transition-transform', open ? 'rotate-180' : '')} />\n      </button>\n      {open ? (\n        <div className=\"pl-4 space-y-1\">\n          {item.dropdown?.map((subItem) => (\n            <Link\n              key={subItem.href}\n              href={subItem.href}\n              className={cn(\n                'block py-2 text-[#053357]',\n                pathname === subItem.href ? 'text-[#0a5a94]' : ''\n              )}\n            >\n              {subItem.label}\n            </Link>\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nfunction MenuIcon({ className }: { className?: string }) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\" />\n    </svg>\n  );\n}\n\nfunction XIcon({ className }: { className?: string }) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18 18 6M6 6l12 12\" />\n    </svg>\n  );\n}\n\nfunction ChevronDownIcon({ className }: { className?: string }) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className={className}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m19.5 8.25-7.5 7.5-7.5-7.5\" />\n    </svg>\n  );\n}\n","/**\r\n * Protected Route Wrapper\r\n * ========================\r\n * Wraps pages that require authentication\r\n */\r\n\r\n'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuthStore } from '@/stores';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ReactNode;\r\n}\r\n\r\nexport function ProtectedRoute({ children, fallback }: ProtectedRouteProps) {\r\n  const router = useRouter();\r\n  const { user, loading, initialized } = useAuthStore();\r\n\r\n  useEffect(() => {\r\n    if (initialized && !loading && !user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, loading, initialized, router]);\r\n\r\n  // Still initializing\r\n  if (!initialized || loading) {\r\n    return fallback ?? <LoadingSpinner />;\r\n  }\r\n\r\n  // Not authenticated\r\n  if (!user) {\r\n    return fallback ?? <LoadingSpinner />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\nfunction LoadingSpinner() {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-[400px]\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-primary-200 border-t-primary-600\" />\r\n    </div>\r\n  );\r\n}\r\n","/**\n * Stores Index\n * =============\n * Export all Zustand stores\n */\n\nexport { useAuthStore } from './auth-store';\nexport { useCharacterCreatorStore, STEP_ORDER, type CreatorStep } from './character-creator-store';\n","/**\n * Utils Index\n * ============\n * Central export point for all utility functions\n */\n\nexport { cn } from './cn';\nexport * from './string';\nexport * from './number';\nexport * from './array';\r\n","/**\n * String Utilities\n * =================\n * Centralized string manipulation functions\n */\n\n/**\n * Sanitize a string to create a valid HTML ID or CSS class name.\n */\nexport function sanitizeId(str: string | null | undefined): string {\n  if (!str) return '';\n  return String(str)\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/[^a-z0-9-]/g, '')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\n/**\n * Capitalize the first letter of a string.\n */\nexport function capitalize(str: string | null | undefined): string {\n  if (!str) return '';\n  return String(str).charAt(0).toUpperCase() + String(str).slice(1);\n}\n\n/**\n * Capitalize the first letter of each word in a string.\n */\nexport function capitalizeWords(str: string | null | undefined): string {\n  if (!str) return '';\n  return String(str)\n    .toLowerCase()\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\n/**\n * Truncate a string to a maximum length, adding ellipsis if truncated.\n */\nexport function truncate(\n  str: string | null | undefined,\n  maxLength: number,\n  suffix: string = '...'\n): string {\n  if (!str) return '';\n  if (str.length <= maxLength) return str;\n  return str.slice(0, maxLength - suffix.length).trim() + suffix;\n}\n\n/**\n * Convert a string to a URL-friendly slug.\n */\nexport function slugify(str: string | null | undefined): string {\n  if (!str) return '';\n  return String(str)\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, '-')\n    .replace(/[^a-z0-9-]/g, '')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\n/**\n * Escape HTML special characters to prevent XSS.\n */\nexport function escapeHtml(str: string | null | undefined): string {\n  if (!str) return '';\n  const htmlEscapes: Record<string, string> = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n  };\n  return String(str).replace(/[&<>\"']/g, char => htmlEscapes[char] || char);\n}\n\n/**\n * Strip HTML tags from a string.\n */\nexport function stripHtml(str: string | null | undefined): string {\n  if (!str) return '';\n  return String(str).replace(/<[^>]*>/g, '');\n}\n\n/**\n * Check if a string is blank (empty or only whitespace).\n */\nexport function isBlank(str: string | null | undefined): boolean {\n  return !str || String(str).trim().length === 0;\n}\n\n/**\n * Convert camelCase to kebab-case.\n */\nexport function camelToKebab(str: string): string {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n/**\n * Convert kebab-case to camelCase.\n */\nexport function kebabToCamel(str: string): string {\n  return str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n\n/**\n * Pluralize a word based on count.\n */\nexport function pluralize(\n  word: string,\n  count: number,\n  plural?: string\n): string {\n  if (count === 1) return word;\n  return plural || word + 's';\n}\n\n/**\n * Format a count with its plural label.\n */\nexport function formatCount(count: number, singular: string, plural?: string): string {\n  return `${count} ${pluralize(singular, count, plural)}`;\n}\r\n","/**\n * Number Utilities\n * =================\n * Centralized number formatting and manipulation functions\n */\n\n/**\n * Format a number as a bonus string with + or - prefix.\n */\nexport function formatBonus(value: number | string): string {\n  const num = parseInt(String(value), 10) || 0;\n  return num >= 0 ? `+${num}` : `${num}`;\n}\n\n/**\n * Format a number with thousands separators.\n */\nexport function formatNumber(value: number | string, locale: string = 'en-US'): string {\n  const num = parseFloat(String(value));\n  if (isNaN(num)) return '0';\n  return num.toLocaleString(locale);\n}\n\n/**\n * Clamp a number between a minimum and maximum value.\n */\nexport function clamp(value: number, min: number, max: number): number {\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * Round a number to a specified number of decimal places.\n */\nexport function round(value: number, decimals: number = 2): number {\n  const multiplier = Math.pow(10, decimals);\n  return Math.round(value * multiplier) / multiplier;\n}\n\n/**\n * Calculate the percentage of a value relative to a total.\n */\nexport function percentage(value: number, total: number, decimals: number = 0): number {\n  if (total === 0) return 0;\n  return round((value / total) * 100, decimals);\n}\n\n/**\n * Convert centimeters to feet and inches.\n */\nexport function cmToFeetInches(cm: number): { feet: number; inches: number; formatted: string } {\n  const totalInches = cm / 2.54;\n  const feet = Math.floor(totalInches / 12);\n  const inches = Math.round(totalInches % 12);\n  return { feet, inches, formatted: `${feet}'${inches}\"` };\n}\n\n/**\n * Convert kilograms to pounds.\n */\nexport function kgToLbs(kg: number): number {\n  return round(kg * 2.20462, 1);\n}\n\n/**\n * Convert pounds to kilograms.\n */\nexport function lbsToKg(lbs: number): number {\n  return round(lbs / 2.20462, 1);\n}\n\n/**\n * Parse a string to number, returning default if invalid.\n */\nexport function parseNum(value: unknown, defaultValue: number = 0): number {\n  const num = parseFloat(String(value));\n  return isNaN(num) ? defaultValue : num;\n}\n\n/**\n * Parse a string to integer (base 10).\n */\nexport function parseInt10(value: unknown, defaultValue: number = 0): number {\n  const num = parseInt(String(value), 10);\n  return isNaN(num) ? defaultValue : num;\n}\n\n/**\n * Check if a value is a valid number.\n */\nexport function isValidNumber(value: unknown): value is number {\n  return typeof value === 'number' && !isNaN(value) && isFinite(value);\n}\n\n/**\n * Generate a random integer between min and max (inclusive).\n */\nexport function randomInt(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n * Roll a dice with the specified number of sides.\n */\nexport function rollDice(sides: number, count: number = 1): number[] {\n  return Array.from({ length: count }, () => randomInt(1, sides));\n}\n\n/**\n * Format dice notation (e.g., \"2d6+3\").\n */\nexport function formatDice(count: number, sides: number, modifier: number = 0): string {\n  let result = `${count}d${sides}`;\n  if (modifier > 0) result += `+${modifier}`;\n  else if (modifier < 0) result += modifier;\n  return result;\n}\n\n/**\n * Sum an array of numbers.\n */\nexport function sum(numbers: number[]): number {\n  return numbers.reduce((acc, n) => acc + n, 0);\n}\n\n/**\n * Calculate the average of an array of numbers.\n */\nexport function average(numbers: number[], decimals: number = 2): number {\n  if (numbers.length === 0) return 0;\n  return round(sum(numbers) / numbers.length, decimals);\n}\n\n/**\n * Compute how to split a value across multiple targets.\n */\nexport function computeSplits(value: number, count: number): number[] {\n  if (count <= 0) return [];\n  const base = Math.floor(value / count);\n  const remainder = value % count;\n  return Array.from({ length: count }, (_, i) => base + (i < remainder ? 1 : 0));\n}\r\n","/**\n * Array Utilities\n * ================\n * Centralized array manipulation functions\n */\n\n/**\n * Convert a value to an array of strings.\n */\nexport function toStrArray(value: unknown): string[] {\n  if (Array.isArray(value)) return value.map(String);\n  if (typeof value === 'string') return value.split(',').map(s => s.trim());\n  return [];\n}\n\n/**\n * Convert a value to an array of numbers.\n */\nexport function toNumArray(value: unknown): number[] {\n  if (Array.isArray(value)) return value.map(Number).filter(n => !isNaN(n));\n  if (typeof value === 'string') {\n    return value.split(',').map(s => parseFloat(s.trim())).filter(n => !isNaN(n));\n  }\n  return [];\n}\n\n/**\n * Get unique values from an array.\n */\nexport function unique<T>(arr: T[]): T[] {\n  return [...new Set(arr)];\n}\n\n/**\n * Get unique values from an array based on a key function.\n */\nexport function uniqueBy<T>(arr: T[], keyFn: (item: T) => unknown): T[] {\n  const seen = new Set();\n  return arr.filter(item => {\n    const key = keyFn(item);\n    if (seen.has(key)) return false;\n    seen.add(key);\n    return true;\n  });\n}\n\n/**\n * Group an array by a key function.\n */\nexport function groupBy<T>(arr: T[], keyFn: (item: T) => string): Record<string, T[]> {\n  return arr.reduce((acc, item) => {\n    const key = keyFn(item);\n    if (!acc[key]) acc[key] = [];\n    acc[key].push(item);\n    return acc;\n  }, {} as Record<string, T[]>);\n}\n\n/**\n * Sort an array by a key function.\n */\nexport function sortBy<T>(arr: T[], keyFn: (item: T) => string | number, desc: boolean = false): T[] {\n  return [...arr].sort((a, b) => {\n    const aVal = keyFn(a);\n    const bVal = keyFn(b);\n    const comparison = aVal < bVal ? -1 : aVal > bVal ? 1 : 0;\n    return desc ? -comparison : comparison;\n  });\n}\n\n/**\n * Filter an array by a search term.\n */\nexport function filterBySearch<T>(\n  arr: T[],\n  searchTerm: string,\n  getSearchText: (item: T) => string\n): T[] {\n  const term = searchTerm.toLowerCase().trim();\n  if (!term) return arr;\n  return arr.filter(item => getSearchText(item).toLowerCase().includes(term));\n}\n\n/**\n * Split an array into chunks of a specified size.\n */\nexport function chunk<T>(arr: T[], size: number): T[][] {\n  const chunks: T[][] = [];\n  for (let i = 0; i < arr.length; i += size) {\n    chunks.push(arr.slice(i, i + size));\n  }\n  return chunks;\n}\n\n/**\n * Flatten a nested array.\n */\nexport function flatten<T>(arr: (T | T[])[]): T[] {\n  return arr.flat() as T[];\n}\n\n/**\n * Take the first n items from an array.\n */\nexport function take<T>(arr: T[], n: number): T[] {\n  return arr.slice(0, n);\n}\n\n/**\n * Take the last n items from an array.\n */\nexport function takeLast<T>(arr: T[], n: number): T[] {\n  return arr.slice(-n);\n}\n\n/**\n * Check if an array is empty.\n */\nexport function isEmpty<T>(arr: T[] | null | undefined): boolean {\n  return !arr || arr.length === 0;\n}\n\n/**\n * Find an item by a predicate function.\n */\nexport function findBy<T>(arr: T[], predicate: (item: T) => boolean): T | undefined {\n  return arr.find(predicate);\n}\n\n/**\n * Remove an item from an array (returns new array).\n */\nexport function removeItem<T>(arr: T[], item: T): T[] {\n  return arr.filter(i => i !== item);\n}\n\n/**\n * Remove items matching a predicate (returns new array).\n */\nexport function removeBy<T>(arr: T[], predicate: (item: T) => boolean): T[] {\n  return arr.filter(item => !predicate(item));\n}\n\n/**\n * Shuffle an array randomly.\n */\nexport function shuffle<T>(arr: T[]): T[] {\n  const shuffled = [...arr];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}\n\n/**\n * Get the intersection of two arrays.\n */\nexport function intersection<T>(arr1: T[], arr2: T[]): T[] {\n  const set = new Set(arr2);\n  return arr1.filter(item => set.has(item));\n}\n\n/**\n * Get the difference of two arrays (items in arr1 not in arr2).\n */\nexport function difference<T>(arr1: T[], arr2: T[]): T[] {\n  const set = new Set(arr2);\n  return arr1.filter(item => !set.has(item));\n}\r\n","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","/**\n * Skill Types\n * ============\n * Skill definitions and categories\n */\n\n/** Skill categories */\nexport type SkillCategory = \n  | 'combat'\n  | 'physical'\n  | 'mental'\n  | 'social'\n  | 'knowledge'\n  | 'craft';\n\n/** A skill from the database */\nexport interface Skill {\n  id: number | string;\n  name: string;\n  category?: SkillCategory;\n  description?: string;\n  ability?: string; // Associated ability\n  untrained?: boolean; // Can be used untrained\n}\n\n/** Character's skill allocation */\nexport interface CharacterSkill {\n  id: number | string;\n  name: string;\n  ranks: number;\n  bonus?: number; // Calculated bonus\n}\n\n/** Skills object on character */\nexport interface CharacterSkills {\n  [skillId: string]: number; // skillId -> ranks\n}\n\n/** Defense skill allocations */\nexport interface DefenseSkills {\n  might: number;\n  fortitude: number;\n  reflex: number;\n  discernment: number;\n  mentalFortitude: number;\n  resolve: number;\n}\n\n/** Default defense skills */\nexport const DEFAULT_DEFENSE_SKILLS: DefenseSkills = {\n  might: 0,\n  fortitude: 0,\n  reflex: 0,\n  discernment: 0,\n  mentalFortitude: 0,\n  resolve: 0,\n};\r\n","/**\r\n * Character Creator Store\r\n * ========================\r\n * Zustand store for character creation state\r\n */\r\n\r\nimport { create } from 'zustand';\r\nimport { persist, createJSONStorage } from 'zustand/middleware';\r\nimport type { \r\n  Character, \r\n  CharacterDraft, \r\n  ArchetypeCategory, \r\n  AbilityName, \r\n  Abilities \r\n} from '@/types';\r\nimport { DEFAULT_ABILITIES, DEFAULT_DEFENSE_SKILLS } from '@/types';\r\n\r\nexport type CreatorStep = \r\n  | 'archetype' \r\n  | 'species' \r\n  | 'ancestry' \r\n  | 'abilities' \r\n  | 'skills' \r\n  | 'feats' \r\n  | 'equipment' \r\n  | 'powers' \r\n  | 'finalize';\r\n\r\nconst STEP_ORDER: CreatorStep[] = [\r\n  'archetype',\r\n  'species', \r\n  'ancestry',\r\n  'abilities',\r\n  'skills',\r\n  'feats',\r\n  'equipment',\r\n  'powers',\r\n  'finalize',\r\n];\r\n\r\ninterface CharacterCreatorState {\r\n  // Current step\r\n  currentStep: CreatorStep;\r\n  completedSteps: CreatorStep[];\r\n  \r\n  // Character draft data\r\n  draft: CharacterDraft;\r\n  \r\n  // Actions\r\n  setStep: (step: CreatorStep) => void;\r\n  nextStep: () => void;\r\n  prevStep: () => void;\r\n  markStepComplete: (step: CreatorStep) => void;\r\n  canNavigateToStep: (step: CreatorStep) => boolean;\r\n  \r\n  // Draft updates\r\n  updateDraft: (updates: Partial<CharacterDraft>) => void;\r\n  setArchetype: (type: ArchetypeCategory, ability: AbilityName, martialAbility?: AbilityName) => void;\r\n  setSpecies: (speciesId: string, speciesName: string) => void;\r\n  setAncestry: (ancestryId: string, ancestryName: string, traits: string[]) => void;\r\n  updateAbility: (ability: AbilityName, value: number) => void;\r\n  \r\n  // Reset\r\n  resetCreator: () => void;\r\n  \r\n  // Generate final character\r\n  getCharacter: () => Partial<Character>;\r\n}\r\n\r\nconst initialDraft: CharacterDraft = {\r\n  name: '',\r\n  level: 1,\r\n  abilities: { ...DEFAULT_ABILITIES },\r\n  step: 0,\r\n  isComplete: false,\r\n};\r\n\r\nexport const useCharacterCreatorStore = create<CharacterCreatorState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      currentStep: 'archetype',\r\n      completedSteps: [],\r\n      draft: initialDraft,\r\n      \r\n      setStep: (step) => {\r\n        if (get().canNavigateToStep(step)) {\r\n          set({ currentStep: step });\r\n        }\r\n      },\r\n      \r\n      nextStep: () => {\r\n        const currentIndex = STEP_ORDER.indexOf(get().currentStep);\r\n        if (currentIndex < STEP_ORDER.length - 1) {\r\n          get().markStepComplete(get().currentStep);\r\n          set({ currentStep: STEP_ORDER[currentIndex + 1] });\r\n        }\r\n      },\r\n      \r\n      prevStep: () => {\r\n        const currentIndex = STEP_ORDER.indexOf(get().currentStep);\r\n        if (currentIndex > 0) {\r\n          set({ currentStep: STEP_ORDER[currentIndex - 1] });\r\n        }\r\n      },\r\n      \r\n      markStepComplete: (step) => {\r\n        const completed = get().completedSteps;\r\n        if (!completed.includes(step)) {\r\n          set({ completedSteps: [...completed, step] });\r\n        }\r\n      },\r\n      \r\n      canNavigateToStep: (step) => {\r\n        const targetIndex = STEP_ORDER.indexOf(step);\r\n        const currentIndex = STEP_ORDER.indexOf(get().currentStep);\r\n        const completed = get().completedSteps;\r\n        \r\n        // Can always go back\r\n        if (targetIndex <= currentIndex) return true;\r\n        \r\n        // Can only go forward if all previous steps are complete\r\n        for (let i = 0; i < targetIndex; i++) {\r\n          if (!completed.includes(STEP_ORDER[i])) return false;\r\n        }\r\n        return true;\r\n      },\r\n      \r\n      updateDraft: (updates) => {\r\n        set({ draft: { ...get().draft, ...updates } });\r\n      },\r\n      \r\n      setArchetype: (type, ability, martialAbility) => {\r\n        const archetype = {\r\n          id: type,\r\n          name: type.charAt(0).toUpperCase() + type.slice(1),\r\n          type,\r\n          pow_abil: type !== 'martial' ? ability : undefined,\r\n          mart_abil: type !== 'power' ? (martialAbility || ability) : undefined,\r\n          ability,\r\n        };\r\n        \r\n        set({\r\n          draft: {\r\n            ...get().draft,\r\n            archetype,\r\n            pow_abil: archetype.pow_abil,\r\n            mart_abil: archetype.mart_abil,\r\n          }\r\n        });\r\n      },\r\n      \r\n      setSpecies: (speciesId, speciesName) => {\r\n        const currentAncestry = get().draft.ancestry;\r\n        set({\r\n          draft: {\r\n            ...get().draft,\r\n            ancestry: {\r\n              ...currentAncestry,\r\n              id: speciesId,\r\n              name: speciesName,\r\n            } as CharacterDraft['ancestry'],\r\n          }\r\n        });\r\n      },\r\n      \r\n      setAncestry: (ancestryId, ancestryName, traits) => {\r\n        const currentAncestry = get().draft.ancestry;\r\n        set({\r\n          draft: {\r\n            ...get().draft,\r\n            ancestry: {\r\n              ...currentAncestry,\r\n              id: ancestryId,\r\n              name: ancestryName,\r\n              traits,\r\n            } as CharacterDraft['ancestry'],\r\n          }\r\n        });\r\n      },\r\n      \r\n      updateAbility: (ability, value) => {\r\n        const abilities = get().draft.abilities || { ...DEFAULT_ABILITIES };\r\n        set({\r\n          draft: {\r\n            ...get().draft,\r\n            abilities: { ...abilities, [ability]: value },\r\n          }\r\n        });\r\n      },\r\n      \r\n      resetCreator: () => {\r\n        set({\r\n          currentStep: 'archetype',\r\n          completedSteps: [],\r\n          draft: initialDraft,\r\n        });\r\n      },\r\n      \r\n      getCharacter: () => {\r\n        const { draft } = get();\r\n        \r\n        // Calculate base and allocated health/energy\r\n        const baseHealth = 10; // Default base health\r\n        const baseEnergy = 10; // Default base energy\r\n        const allocatedHealth = draft.healthPoints || 0;\r\n        const allocatedEnergy = draft.energyPoints || 0;\r\n        \r\n        return {\r\n          name: draft.name || 'Unnamed Character',\r\n          level: draft.level || 1,\r\n          abilities: draft.abilities || { ...DEFAULT_ABILITIES },\r\n          archetype: draft.archetype,\r\n          pow_abil: draft.pow_abil,\r\n          mart_abil: draft.mart_abil,\r\n          // Match vanilla naming\r\n          species: draft.ancestry?.name || '',\r\n          ancestry: draft.ancestry,\r\n          skills: draft.skills,\r\n          defenseSkills: draft.defenseSkills || { ...DEFAULT_DEFENSE_SKILLS },\r\n          defenseVals: draft.defenseSkills || { ...DEFAULT_DEFENSE_SKILLS },\r\n          feats: draft.feats || [],\r\n          powers: draft.powers || [],\r\n          techniques: draft.techniques || [],\r\n          equipment: draft.equipment || [],\r\n          // Health/Energy tracking\r\n          health_energy_points: {\r\n            health: allocatedHealth,\r\n            energy: allocatedEnergy,\r\n          },\r\n          currentHealth: baseHealth + allocatedHealth,\r\n          currentEnergy: baseEnergy + allocatedEnergy,\r\n          // Optional fields\r\n          description: draft.description || '',\r\n          notes: draft.notes || '',\r\n          appearance: draft.appearance || '',\r\n          portrait: draft.portrait || '',\r\n          status: 'complete' as const,\r\n        };\r\n      },\r\n    }),\r\n    {\r\n      name: 'character-creator-storage',\r\n      storage: createJSONStorage(() => localStorage),\r\n      partialize: (state) => ({\r\n        currentStep: state.currentStep,\r\n        completedSteps: state.completedSteps,\r\n        draft: state.draft,\r\n      }),\r\n    }\r\n  )\r\n);\r\n\r\nexport { STEP_ORDER };\r\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nfunction ssrSafe(config, isSSR = typeof window === \"undefined\") {\n  return (set, get, api) => {\n    if (!isSSR) {\n      return config(set, get, api);\n    }\n    const ssrSet = () => {\n      throw new Error(\"Cannot set state of Zustand store in SSR\");\n    };\n    api.setState = ssrSet;\n    return config(ssrSet, get, api);\n  };\n}\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector, ssrSafe as unstable_ssrSafe };\n","/**\n * Ability Types\n * ==============\n * Core ability score types for characters and creatures\n */\n\n/** The six core ability scores */\nexport type AbilityName = \n  | 'strength'\n  | 'vitality'\n  | 'agility'\n  | 'acuity'\n  | 'intelligence'\n  | 'charisma';\n\n/** Ability scores object */\nexport interface Abilities {\n  strength: number;\n  vitality: number;\n  agility: number;\n  acuity: number;\n  intelligence: number;\n  charisma: number;\n}\n\n/** Default ability scores */\nexport const DEFAULT_ABILITIES: Abilities = {\n  strength: 0,\n  vitality: 0,\n  agility: 0,\n  acuity: 0,\n  intelligence: 0,\n  charisma: 0,\n};\n\n/** Defense types that map to abilities */\nexport type DefenseName =\n  | 'might'       // strength\n  | 'fortitude'   // vitality\n  | 'reflex'      // agility\n  | 'discernment' // acuity\n  | 'mentalFortitude' // intelligence\n  | 'resolve';    // charisma\n\n/** Defense scores object */\nexport interface Defenses {\n  might: number;\n  fortitude: number;\n  reflex: number;\n  discernment: number;\n  mentalFortitude: number;\n  resolve: number;\n}\n\n/** Defense bonuses from skills/feats */\nexport interface DefenseBonuses {\n  might: number;\n  fortitude: number;\n  reflex: number;\n  discernment: number;\n  mentalFortitude: number;\n  resolve: number;\n}\r\n","/**\n * Types Index\n * ============\n * Export all TypeScript types\n */\n\n// Abilities\nexport type { AbilityName, Abilities, DefenseName, Defenses, DefenseBonuses } from './abilities';\nexport { DEFAULT_ABILITIES } from './abilities';\n\n// Archetype\nexport type {\n  ArchetypeCategory,\n  ArchetypeProficiency,\n  ArchetypeConfig,\n  Archetype,\n  ArchetypeFeat,\n  ArchetypeTrait,\n  CharacterArchetype,\n} from './archetype';\n\n// Ancestry\nexport type {\n  SizeCategory,\n  Ancestry,\n  AncestryTrait,\n  CharacterAncestry,\n} from './ancestry';\n\n// Skills\nexport type {\n  SkillCategory,\n  Skill,\n  CharacterSkill,\n  CharacterSkills,\n  DefenseSkills,\n} from './skills';\nexport { DEFAULT_DEFENSE_SKILLS } from './skills';\n\n// Feats\nexport type {\n  FeatCategory,\n  Feat,\n  CharacterFeat,\n} from './feats';\n\n// Equipment\nexport type {\n  EquipmentSlot,\n  ItemRarity,\n  WeaponCategory,\n  DamageType,\n  Item,\n  ItemProperty,\n  Weapon,\n  Armor,\n  CharacterEquipment,\n} from './equipment';\n\n// Character\nexport type {\n  CharacterStatus,\n  EntityType,\n  CharacterPower,\n  CharacterTechnique,\n  ResourcePool,\n  CombatBonuses,\n  Character,\n  CharacterSummary,\n  CharacterDraft,\n} from './character';\n\n// Item Display System\nexport type {\n  BaseGameItem,\n  DisplayItem,\n  ItemBadge,\n  ItemStat,\n  ItemDetail,\n  ItemRequirement,\n  FilterOption,\n  SortOption,\n  FilterState,\n  SortState,\n  ItemCategory,\n  ItemTransformer,\n  TransformContext,\n  ListMode,\n  ItemActions,\n} from './items';\n"],"names":["getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image"],"mappings":"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","ignoreList":[7,8,11]}