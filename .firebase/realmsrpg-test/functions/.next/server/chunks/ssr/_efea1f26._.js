module.exports=[92e3,a=>{"use strict";let b=(0,a.i(60137).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},81560,a=>{"use strict";let b=(0,a.i(60137).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},19221,a=>{"use strict";let b=(0,a.i(60137).default)("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);a.s(["Swords",()=>b],19221)},54933,a=>{"use strict";let b=(0,a.i(60137).default)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);a.s(["Wand2",()=>b],54933)},2522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(15618),f=a.i(54933),g=a.i(19221),h=a.i(3314);let i=(0,a.i(60137).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.i(72500);var j=a.i(18239);a.i(76564);var k=a.i(20930);a.i(43773);var l=a.i(64437),m=a.i(90101),n=a.i(12184),o=a.i(74826);a.i(50889);var p=a.i(97907),q=a.i(20747);let r=[{id:"powers",label:"Powers",icon:(0,b.jsx)(f.Wand2,{className:"w-4 h-4"}),createHref:"/power-creator",createLabel:"Create Power"},{id:"techniques",label:"Techniques",icon:(0,b.jsx)(g.Swords,{className:"w-4 h-4"}),createHref:"/technique-creator",createLabel:"Create Technique"},{id:"items",label:"Items",icon:(0,b.jsx)(h.Shield,{className:"w-4 h-4"}),createHref:"/item-creator",createLabel:"Create Item"},{id:"creatures",label:"Creatures",icon:(0,b.jsx)(i,{className:"w-4 h-4"}),createHref:"/creature-creator",createLabel:"Create Creature"}];function s(){return(0,b.jsx)(k.ProtectedRoute,{children:(0,b.jsx)(t,{})})}function t(){let[a,f]=(0,c.useState)("powers"),[g,h]=(0,c.useState)(null),{data:i=[]}=(0,p.useUserPowers)(),{data:k=[]}=(0,p.useUserTechniques)(),{data:l=[]}=(0,p.useUserItems)(),{data:m=[]}=(0,p.useUserCreatures)(),n={powers:i.length,techniques:k.length,items:l.length,creatures:m.length},o=r.find(b=>b.id===a);return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"My Library"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Your custom powers, techniques, items, and creatures"})]}),(0,b.jsxs)(d.default,{href:o.createHref,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),o.createLabel]})]}),(0,b.jsx)("div",{className:"border-b border-border mb-6",children:(0,b.jsx)("nav",{className:"flex gap-2 overflow-x-auto",children:r.map(c=>(0,b.jsxs)("button",{onClick:()=>f(c.id),className:(0,j.cn)("flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap",a===c.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"),children:[c.icon,c.label,(0,b.jsx)("span",{className:(0,j.cn)("px-1.5 py-0.5 text-xs rounded-full",a===c.id?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:n[c.id]})]},c.id))})}),"powers"===a&&(0,b.jsx)(v,{onDelete:a=>h({type:"powers",item:a})}),"techniques"===a&&(0,b.jsx)(x,{onDelete:a=>h({type:"techniques",item:a})}),"items"===a&&(0,b.jsx)(z,{onDelete:a=>h({type:"items",item:a})}),"creatures"===a&&(0,b.jsx)(B,{onDelete:a=>h({type:"creatures",item:a})}),g&&(0,b.jsx)(E,{type:g.type,item:g.item,onClose:()=>h(null)})]})}let u=[{id:"name",label:"Name",field:"name",type:"string"},{id:"cost",label:"Energy",field:"cost",type:"number"}];function v({onDelete:a}){let{data:d,isLoading:e,error:f}=(0,p.useUserPowers)(),{data:g=[]}=(0,q.usePowerParts)(),h=(0,c.useMemo)(()=>d&&g.length?d.map(a=>{let b=(0,n.derivePowerDisplay)({name:a.name,description:a.description,parts:a.parts||[],damage:a.damage},g),c=(0,n.formatPowerDamage)(a.damage),d=[{label:"Energy",value:String(b.energy)},{label:"Action",value:b.actionType},{label:"Duration",value:b.duration},{label:"Range",value:b.range},{label:"Area",value:b.area}];c&&d.push({label:"Damage",value:c});let e=[];return b.tp>0&&e.push({label:"Training Points",value:String(b.tp)}),b.tpSources.length>0&&e.push({label:"TP Breakdown",value:b.tpSources}),{id:a.docId,name:a.name,description:a.description,category:"power",cost:b.energy,costLabel:"EN",stats:d,details:e,badges:[],sourceData:a}}):[],[d,g]);return f?(0,b.jsx)(D,{message:"Failed to load powers"}):e||0!==h.length?(0,b.jsx)(l.ItemList,{items:h,mode:"manage",layout:"list",actions:{onEdit:a=>{window.location.href=`/power-creator?edit=${a.id}`},onDelete:a,onDuplicate:a=>{window.location.href=`/power-creator?copy=${a.id}`}},sortOptions:u,searchPlaceholder:"Search powers...",loading:e,emptyMessage:"No powers found"}):(0,b.jsx)(C,{type:"powers",href:"/power-creator"})}let w=[{id:"name",label:"Name",field:"name",type:"string"},{id:"cost",label:"TP",field:"cost",type:"number"}];function x({onDelete:a}){let{data:d,isLoading:e,error:f}=(0,p.useUserTechniques)(),{data:g=[]}=(0,q.useTechniqueParts)(),h=(0,c.useMemo)(()=>d&&g.length?d.map(a=>{let b=(0,o.deriveTechniqueDisplay)({name:a.name,description:a.description,parts:a.parts||[],damage:a.damage?.[0],weapon:a.weapon},g),c=[{label:"Energy",value:String(b.energy)},{label:"TP",value:String(b.tp)},{label:"Action",value:b.actionType},{label:"Weapon",value:b.weaponName}];b.damageStr&&c.push({label:"Damage",value:b.damageStr});let d=[];return b.tpSources.length>0&&d.push({label:"TP Breakdown",value:b.tpSources}),{id:a.docId,name:a.name,description:a.description,category:"technique",cost:b.tp,costLabel:"TP",stats:c,details:d,badges:"Unarmed"!==b.weaponName?[{label:b.weaponName,variant:"default"}]:[],sourceData:a}}):[],[d,g]);return f?(0,b.jsx)(D,{message:"Failed to load techniques"}):e||0!==h.length?(0,b.jsx)(l.ItemList,{items:h,mode:"manage",layout:"list",actions:{onEdit:a=>{window.location.href=`/technique-creator?edit=${a.id}`},onDelete:a,onDuplicate:a=>{window.location.href=`/technique-creator?copy=${a.id}`}},sortOptions:w,searchPlaceholder:"Search techniques...",loading:e,emptyMessage:"No techniques found"}):(0,b.jsx)(C,{type:"techniques",href:"/technique-creator"})}let y=[{id:"name",label:"Name",field:"name",type:"string"},{id:"type",label:"Type",field:"type",type:"string"}];function z({onDelete:a}){let{data:d,isLoading:e,error:f}=(0,p.useUserItems)(),{data:g}=(0,q.useItemProperties)(),h=(0,c.useMemo)(()=>d?d.map(a=>"weapon"===a.type?(0,m.transformWeapon)({id:a.docId,name:a.name,description:a.description,damage:a.damage,properties:a.properties,type:"weapon"}):"armor"===a.type?(0,m.transformArmor)({id:a.docId,name:a.name,description:a.description,defense:a.armorValue,properties:a.properties,type:"armor"}):(0,m.transformEquipment)({id:a.docId,name:a.name,description:a.description,type:a.type})):[],[d]);return f?(0,b.jsx)(D,{message:"Failed to load items"}):e||0!==h.length?(0,b.jsx)(l.ItemList,{items:h,mode:"manage",layout:"list",actions:{onEdit:a=>{window.location.href=`/item-creator?edit=${a.id}`},onDelete:a,onDuplicate:a=>{window.location.href=`/item-creator?copy=${a.id}`}},sortOptions:y,searchPlaceholder:"Search items...",loading:e,emptyMessage:"No items found"}):(0,b.jsx)(C,{type:"items",href:"/item-creator"})}let A=[{id:"name",label:"Name",field:"name",type:"string"},{id:"level",label:"Level",field:"cost",type:"number"}];function B({onDelete:a}){let{data:d,isLoading:e,error:f}=(0,p.useUserCreatures)(),g=(0,c.useMemo)(()=>d?d.map(a=>(0,m.transformCreature)({id:a.docId,name:a.name,description:a.description,level:a.level,type:a.type,size:a.size,hp:a.hp,abilities:a.abilities})):[],[d]);return f?(0,b.jsx)(D,{message:"Failed to load creatures"}):e||0!==g.length?(0,b.jsx)(l.ItemList,{items:g,mode:"manage",layout:"list",actions:{onEdit:a=>{window.location.href=`/creature-creator?edit=${a.id}`},onDelete:a,onDuplicate:a=>{window.location.href=`/creature-creator?copy=${a.id}`}},sortOptions:A,searchPlaceholder:"Search creatures...",loading:e,emptyMessage:"No creatures found"}):(0,b.jsx)(C,{type:"creatures",href:"/creature-creator"})}function C({type:a,href:c}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsxs)("div",{className:"w-16 h-16 mb-4 rounded-full bg-muted flex items-center justify-center",children:["powers"===a&&(0,b.jsx)(f.Wand2,{className:"w-8 h-8 text-muted-foreground"}),"techniques"===a&&(0,b.jsx)(g.Swords,{className:"w-8 h-8 text-muted-foreground"}),"items"===a&&(0,b.jsx)(h.Shield,{className:"w-8 h-8 text-muted-foreground"}),"creatures"===a&&(0,b.jsx)(i,{className:"w-8 h-8 text-muted-foreground"})]}),(0,b.jsxs)("h3",{className:"text-lg font-medium text-foreground mb-2",children:["No ",a," yet"]}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-6 max-w-sm",children:["Create your first ",a.slice(0,-1)," to see it here in your library."]}),(0,b.jsxs)(d.default,{href:c,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),"Create ",a.slice(0,-1)]})]})}function D({message:a}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("p",{className:"text-destructive font-medium",children:a}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"Please try again later"})]})}function E({type:a,item:c,onClose:d}){let e=(0,p.useDeletePower)(),f=(0,p.useDeleteTechnique)(),g=(0,p.useDeleteItem)(),h=(0,p.useDeleteCreature)(),i=e.isPending||f.isPending||g.isPending||h.isPending,j=async()=>{try{switch(a){case"powers":await e.mutateAsync(c.id);break;case"techniques":await f.mutateAsync(c.id);break;case"items":await g.mutateAsync(c.id);break;case"creatures":await h.mutateAsync(c.id)}d()}catch(a){console.error("Failed to delete:",a)}};return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:d}),(0,b.jsxs)("div",{className:"relative bg-card rounded-xl shadow-xl border border-border p-6 max-w-md mx-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:["Delete ",c.name,"?"]}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-6",children:["This action cannot be undone. This will permanently delete the ",a.slice(0,-1)," from your library."]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:d,disabled:i,className:"px-4 py-2 rounded-lg border border-border text-muted-foreground hover:text-foreground hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:j,disabled:i,className:"px-4 py-2 rounded-lg bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-colors disabled:opacity-50",children:i?"Deleting...":"Delete"})]})]})]})}a.s(["default",()=>s],2522)}];

//# sourceMappingURL=_efea1f26._.js.map