{"version":3,"sources":["../../../../src/components/shared/item-card.tsx","../../../../src/components/shared/item-list.tsx","../../../../src/components/shared/item-selection-modal.tsx","../../../../node_modules/lucide-react/src/icons/list.ts","../../../../node_modules/lucide-react/src/icons/copy.ts","../../../../node_modules/lucide-react/src/icons/eye.ts","../../../../node_modules/lucide-react/src/icons/arrow-up-narrow-wide.ts","../../../../node_modules/lucide-react/src/icons/arrow-down-wide-narrow.ts","../../../../node_modules/lucide-react/src/icons/square-pen.ts","../../../../node_modules/lucide-react/src/icons/funnel.ts","../../../../node_modules/lucide-react/src/icons/grid-3x3.ts","../../../../src/lib/item-transformers.ts"],"sourcesContent":["'use client';\r\n\r\n/**\r\n * ItemCard - Unified Item Display Component\r\n * =========================================\r\n * Reusable card component for displaying any game item\r\n * Used in Codex, Library, Character Creator, and Character Sheet\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { ChevronDown, ChevronUp, Check, Edit, Trash2, Copy, Eye, AlertCircle } from 'lucide-react';\r\nimport type { DisplayItem, ListMode, ItemActions } from '@/types/items';\r\n\r\ninterface ItemCardProps {\r\n  item: DisplayItem;\r\n  mode?: ListMode;\r\n  actions?: ItemActions;\r\n  showDetails?: boolean;\r\n  compact?: boolean;\r\n  className?: string;\r\n}\r\n\r\n// Badge variants with Tailwind classes\r\nconst badgeVariants = {\r\n  default: 'bg-muted text-muted-foreground',\r\n  primary: 'bg-primary/20 text-primary',\r\n  success: 'bg-green-500/20 text-green-400',\r\n  warning: 'bg-yellow-500/20 text-yellow-400',\r\n  danger: 'bg-red-500/20 text-red-400',\r\n  info: 'bg-blue-500/20 text-blue-400',\r\n};\r\n\r\nexport function ItemCard({ \r\n  item, \r\n  mode = 'view', \r\n  actions,\r\n  showDetails = false,\r\n  compact = false,\r\n  className = '',\r\n}: ItemCardProps) {\r\n  const [isExpanded, setIsExpanded] = useState(showDetails);\r\n  \r\n  const hasDetails = (item.details && item.details.length > 0) || item.description;\r\n  const isSelectable = mode === 'select';\r\n  const isManageable = mode === 'manage';\r\n  \r\n  const handleClick = () => {\r\n    if (isSelectable && !item.isDisabled) {\r\n      if (item.isSelected) {\r\n        actions?.onDeselect?.(item);\r\n      } else {\r\n        actions?.onSelect?.(item);\r\n      }\r\n    } else if (hasDetails) {\r\n      setIsExpanded(!isExpanded);\r\n    }\r\n  };\r\n  \r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' || e.key === ' ') {\r\n      e.preventDefault();\r\n      handleClick();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        rounded-lg border transition-all duration-200\r\n        ${item.isSelected \r\n          ? 'border-primary bg-primary/10 ring-1 ring-primary' \r\n          : 'border-border bg-card hover:border-primary/50'\r\n        }\r\n        ${item.isDisabled \r\n          ? 'opacity-50 cursor-not-allowed' \r\n          : isSelectable || hasDetails ? 'cursor-pointer' : ''\r\n        }\r\n        ${compact ? 'p-2' : 'p-3'}\r\n        ${className}\r\n      `}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n      tabIndex={isSelectable && !item.isDisabled ? 0 : undefined}\r\n      role={isSelectable ? 'button' : undefined}\r\n      aria-pressed={isSelectable ? item.isSelected : undefined}\r\n      aria-disabled={item.isDisabled}\r\n    >\r\n      {/* Header Row */}\r\n      <div className=\"flex items-start justify-between gap-2\">\r\n        {/* Left: Selection indicator + Name */}\r\n        <div className=\"flex items-start gap-2 flex-1 min-w-0\">\r\n          {/* Selection checkbox (select mode) */}\r\n          {isSelectable && (\r\n            <div \r\n              className={`\r\n                mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors\r\n                ${item.isSelected \r\n                  ? 'bg-primary border-primary' \r\n                  : 'border-muted-foreground/40'\r\n                }\r\n                ${item.isDisabled ? 'opacity-50' : ''}\r\n              `}\r\n            >\r\n              {item.isSelected && <Check className=\"w-3 h-3 text-primary-foreground\" />}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Name and subtitle */}\r\n          <div className=\"min-w-0 flex-1\">\r\n            <h3 className={`font-medium text-foreground truncate ${compact ? 'text-sm' : ''}`}>\r\n              {item.name}\r\n            </h3>\r\n            {item.subtitle && (\r\n              <p className=\"text-xs text-muted-foreground truncate\">{item.subtitle}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Right: Stats and actions */}\r\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n          {/* Quick stats */}\r\n          {!compact && item.stats && item.stats.length > 0 && (\r\n            <div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\r\n              {item.stats.slice(0, 3).map((stat, i) => (\r\n                <span key={i} className=\"whitespace-nowrap\">\r\n                  <span className=\"text-xs opacity-70\">{stat.label}:</span>{' '}\r\n                  <span className=\"font-medium text-foreground\">{stat.value}</span>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Cost display */}\r\n          {item.cost !== undefined && (\r\n            <span className=\"text-sm font-medium text-primary whitespace-nowrap\">\r\n              {item.cost} {item.costLabel}\r\n            </span>\r\n          )}\r\n          \r\n          {/* Manage mode actions */}\r\n          {isManageable && (\r\n            <div className=\"flex items-center gap-1\" onClick={e => e.stopPropagation()}>\r\n              {actions?.onView && (\r\n                <button\r\n                  onClick={() => actions.onView?.(item)}\r\n                  className=\"p-1.5 rounded hover:bg-muted transition-colors\"\r\n                  title=\"View\"\r\n                >\r\n                  <Eye className=\"w-4 h-4 text-muted-foreground\" />\r\n                </button>\r\n              )}\r\n              {actions?.onEdit && (\r\n                <button\r\n                  onClick={() => actions.onEdit?.(item)}\r\n                  className=\"p-1.5 rounded hover:bg-muted transition-colors\"\r\n                  title=\"Edit\"\r\n                >\r\n                  <Edit className=\"w-4 h-4 text-muted-foreground\" />\r\n                </button>\r\n              )}\r\n              {actions?.onDuplicate && (\r\n                <button\r\n                  onClick={() => actions.onDuplicate?.(item)}\r\n                  className=\"p-1.5 rounded hover:bg-muted transition-colors\"\r\n                  title=\"Duplicate\"\r\n                >\r\n                  <Copy className=\"w-4 h-4 text-muted-foreground\" />\r\n                </button>\r\n              )}\r\n              {actions?.onDelete && (\r\n                <button\r\n                  onClick={() => actions.onDelete?.(item)}\r\n                  className=\"p-1.5 rounded hover:bg-destructive/20 transition-colors\"\r\n                  title=\"Delete\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 text-destructive\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Expand/collapse indicator */}\r\n          {hasDetails && !isManageable && (\r\n            <button \r\n              className=\"p-1 rounded hover:bg-muted transition-colors\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setIsExpanded(!isExpanded);\r\n              }}\r\n            >\r\n              {isExpanded \r\n                ? <ChevronUp className=\"w-4 h-4 text-muted-foreground\" /> \r\n                : <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\r\n              }\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Badges row */}\r\n      {item.badges && item.badges.length > 0 && (\r\n        <div className={`flex flex-wrap gap-1 ${compact ? 'mt-1' : 'mt-2'}`}>\r\n          {item.badges.map((badge, i) => (\r\n            <span \r\n              key={i}\r\n              className={`text-xs px-2 py-0.5 rounded-full ${badgeVariants[badge.variant]}`}\r\n            >\r\n              {badge.label}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Tags row (compact display) */}\r\n      {item.tags && item.tags.length > 0 && !compact && (\r\n        <div className=\"flex flex-wrap gap-1 mt-2\">\r\n          {item.tags.map((tag, i) => (\r\n            <span \r\n              key={i}\r\n              className=\"text-xs px-1.5 py-0.5 rounded bg-muted text-muted-foreground\"\r\n            >\r\n              {tag}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Disabled reason */}\r\n      {item.isDisabled && item.disabledReason && (\r\n        <div className=\"flex items-center gap-1.5 mt-2 text-xs text-destructive\">\r\n          <AlertCircle className=\"w-3 h-3 flex-shrink-0\" />\r\n          <span>{item.disabledReason}</span>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Expanded details */}\r\n      {isExpanded && (\r\n        <div className=\"mt-3 pt-3 border-t border-border space-y-2\">\r\n          {/* Description */}\r\n          {item.description && (\r\n            <p className=\"text-sm text-muted-foreground\">{item.description}</p>\r\n          )}\r\n          \r\n          {/* Detail rows */}\r\n          {item.details && item.details.map((detail, i) => (\r\n            <div key={i} className=\"text-sm\">\r\n              <span className=\"font-medium text-foreground\">{detail.label}: </span>\r\n              <span className=\"text-muted-foreground\">\r\n                {Array.isArray(detail.value) \r\n                  ? detail.value.join(', ') \r\n                  : detail.value\r\n                }\r\n              </span>\r\n            </div>\r\n          ))}\r\n          \r\n          {/* Requirements */}\r\n          {item.requirements && item.requirements.length > 0 && (\r\n            <div className=\"text-sm\">\r\n              <span className=\"font-medium text-foreground\">Requirements: </span>\r\n              <span className=\"text-muted-foreground\">\r\n                {item.requirements.map((req, i) => (\r\n                  <span \r\n                    key={i}\r\n                    className={req.met ? 'text-green-400' : 'text-red-400'}\r\n                  >\r\n                    {req.name} {req.value}\r\n                    {i < item.requirements!.length - 1 ? ', ' : ''}\r\n                  </span>\r\n                ))}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemCard;\r\n","'use client';\r\n\r\n/**\r\n * ItemList - Unified List Component with Filtering & Sorting\r\n * ==========================================================\r\n * Reusable list component for displaying arrays of game items\r\n * Supports view, select, and manage modes\r\n */\r\n\r\nimport { useState, useMemo, useCallback } from 'react';\r\nimport { Search, SortAsc, SortDesc, Filter, Grid, List, X } from 'lucide-react';\r\nimport { ItemCard } from './item-card';\r\nimport type { DisplayItem, ListMode, ItemActions, FilterOption, SortOption, FilterState, SortState } from '@/types/items';\r\n\r\ninterface ItemListProps {\r\n  items: DisplayItem[];\r\n  mode?: ListMode;\r\n  actions?: ItemActions;\r\n  \r\n  // Layout\r\n  layout?: 'list' | 'grid';\r\n  columns?: 1 | 2 | 3 | 4;\r\n  compact?: boolean;\r\n  \r\n  // Filtering & Sorting\r\n  filterOptions?: FilterOption[];\r\n  sortOptions?: SortOption[];\r\n  defaultSort?: SortState;\r\n  \r\n  // Search\r\n  searchable?: boolean;\r\n  searchPlaceholder?: string;\r\n  searchFields?: string[];\r\n  \r\n  // Selection (for select mode)\r\n  selectedIds?: Set<string>;\r\n  onSelectionChange?: (ids: Set<string>) => void;\r\n  maxSelections?: number;\r\n  \r\n  // UI\r\n  showHeader?: boolean;\r\n  showCount?: boolean;\r\n  emptyMessage?: string;\r\n  loading?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport function ItemList({\r\n  items,\r\n  mode = 'view',\r\n  actions,\r\n  layout = 'list',\r\n  columns = 1,\r\n  compact = false,\r\n  filterOptions = [],\r\n  sortOptions = [],\r\n  defaultSort = { field: 'name', direction: 'asc' },\r\n  searchable = true,\r\n  searchPlaceholder = 'Search items...',\r\n  searchFields = ['name', 'description', 'type', 'category'],\r\n  selectedIds: externalSelectedIds,\r\n  onSelectionChange,\r\n  maxSelections,\r\n  showHeader = true,\r\n  showCount = true,\r\n  emptyMessage = 'No items found',\r\n  loading = false,\r\n  className = '',\r\n}: ItemListProps) {\r\n  // Local state\r\n  const [internalSelectedIds, setInternalSelectedIds] = useState<Set<string>>(new Set());\r\n  const [filterState, setFilterState] = useState<FilterState>({ search: '' });\r\n  const [sortState, setSortState] = useState<SortState>(defaultSort);\r\n  const [currentLayout, setCurrentLayout] = useState(layout);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  \r\n  // Use external selection if provided, otherwise internal\r\n  const selectedIds = externalSelectedIds ?? internalSelectedIds;\r\n  \r\n  // Handle selection changes\r\n  const handleSelect = useCallback((item: DisplayItem) => {\r\n    const newSelected = new Set(selectedIds);\r\n    \r\n    if (maxSelections === 1) {\r\n      // Single select mode\r\n      newSelected.clear();\r\n      newSelected.add(item.id);\r\n    } else if (maxSelections && newSelected.size >= maxSelections) {\r\n      // At max, don't add\r\n      return;\r\n    } else {\r\n      newSelected.add(item.id);\r\n    }\r\n    \r\n    if (onSelectionChange) {\r\n      onSelectionChange(newSelected);\r\n    } else {\r\n      setInternalSelectedIds(newSelected);\r\n    }\r\n    actions?.onSelect?.(item);\r\n  }, [selectedIds, maxSelections, onSelectionChange, actions]);\r\n  \r\n  const handleDeselect = useCallback((item: DisplayItem) => {\r\n    const newSelected = new Set(selectedIds);\r\n    newSelected.delete(item.id);\r\n    \r\n    if (onSelectionChange) {\r\n      onSelectionChange(newSelected);\r\n    } else {\r\n      setInternalSelectedIds(newSelected);\r\n    }\r\n    actions?.onDeselect?.(item);\r\n  }, [selectedIds, onSelectionChange, actions]);\r\n  \r\n  // Filter items\r\n  const filteredItems = useMemo(() => {\r\n    return items.filter(item => {\r\n      // Search filter\r\n      if (filterState.search) {\r\n        const searchLower = filterState.search.toLowerCase();\r\n        const matchesSearch = searchFields.some(field => {\r\n          const value = item[field];\r\n          if (typeof value === 'string') {\r\n            return value.toLowerCase().includes(searchLower);\r\n          }\r\n          if (Array.isArray(value)) {\r\n            return value.some(v => String(v).toLowerCase().includes(searchLower));\r\n          }\r\n          return false;\r\n        });\r\n        if (!matchesSearch) return false;\r\n      }\r\n      \r\n      // Custom filters\r\n      for (const filter of filterOptions) {\r\n        const filterValue = filterState[filter.id];\r\n        if (filterValue === undefined || filterValue === '' || (Array.isArray(filterValue) && filterValue.length === 0)) {\r\n          continue;\r\n        }\r\n        \r\n        const itemValue = item[filter.id];\r\n        \r\n        if (filter.type === 'select' || filter.type === 'text') {\r\n          if (typeof filterValue === 'string' && filterValue !== '') {\r\n            if (String(itemValue).toLowerCase() !== filterValue.toLowerCase()) {\r\n              return false;\r\n            }\r\n          }\r\n        } else if (filter.type === 'multiselect') {\r\n          if (Array.isArray(filterValue) && filterValue.length > 0) {\r\n            const itemVal = String(itemValue).toLowerCase();\r\n            if (!filterValue.some(v => String(v).toLowerCase() === itemVal)) {\r\n              return false;\r\n            }\r\n          }\r\n        } else if (filter.type === 'checkbox') {\r\n          if (filterValue === true && !itemValue) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  }, [items, filterState, filterOptions, searchFields]);\r\n  \r\n  // Sort items\r\n  const sortedItems = useMemo(() => {\r\n    return [...filteredItems].sort((a, b) => {\r\n      const aValue = a[sortState.field];\r\n      const bValue = b[sortState.field];\r\n      \r\n      let comparison = 0;\r\n      \r\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\r\n        comparison = aValue.localeCompare(bValue);\r\n      } else if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n        comparison = aValue - bValue;\r\n      } else {\r\n        comparison = String(aValue ?? '').localeCompare(String(bValue ?? ''));\r\n      }\r\n      \r\n      return sortState.direction === 'desc' ? -comparison : comparison;\r\n    });\r\n  }, [filteredItems, sortState]);\r\n  \r\n  // Enhance items with selection state\r\n  const displayItems = useMemo(() => {\r\n    return sortedItems.map(item => ({\r\n      ...item,\r\n      isSelected: selectedIds.has(item.id),\r\n    }));\r\n  }, [sortedItems, selectedIds]);\r\n  \r\n  // Toggle sort\r\n  const toggleSort = (field: string) => {\r\n    setSortState(prev => ({\r\n      field,\r\n      direction: prev.field === field && prev.direction === 'asc' ? 'desc' : 'asc',\r\n    }));\r\n  };\r\n  \r\n  // Clear all filters\r\n  const clearFilters = () => {\r\n    setFilterState({ search: '' });\r\n  };\r\n  \r\n  // Check if any filters are active\r\n  const hasActiveFilters = filterState.search !== '' || \r\n    filterOptions.some(f => {\r\n      const v = filterState[f.id];\r\n      return v !== undefined && v !== '' && (!Array.isArray(v) || v.length > 0);\r\n    });\r\n  \r\n  // Grid column classes\r\n  const gridCols = {\r\n    1: 'grid-cols-1',\r\n    2: 'grid-cols-1 md:grid-cols-2',\r\n    3: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3',\r\n    4: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* Header with search, filters, sort */}\r\n      {showHeader && (\r\n        <div className=\"space-y-3\">\r\n          {/* Main controls row */}\r\n          <div className=\"flex flex-wrap items-center gap-3\">\r\n            {/* Search */}\r\n            {searchable && (\r\n              <div className=\"relative flex-1 min-w-[200px] max-w-md\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={filterState.search}\r\n                  onChange={(e) => setFilterState(prev => ({ ...prev, search: e.target.value }))}\r\n                  placeholder={searchPlaceholder}\r\n                  className=\"w-full pl-9 pr-4 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n                {filterState.search && (\r\n                  <button\r\n                    onClick={() => setFilterState(prev => ({ ...prev, search: '' }))}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n            \r\n            {/* Filter toggle */}\r\n            {filterOptions.length > 0 && (\r\n              <button\r\n                onClick={() => setShowFilters(!showFilters)}\r\n                className={`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${\r\n                  showFilters || hasActiveFilters\r\n                    ? 'border-primary bg-primary/10 text-primary'\r\n                    : 'border-border text-muted-foreground hover:text-foreground hover:border-primary/50'\r\n                }`}\r\n              >\r\n                <Filter className=\"w-4 h-4\" />\r\n                <span className=\"text-sm\">Filters</span>\r\n                {hasActiveFilters && (\r\n                  <span className=\"w-2 h-2 rounded-full bg-primary\" />\r\n                )}\r\n              </button>\r\n            )}\r\n            \r\n            {/* Sort dropdown */}\r\n            {sortOptions.length > 0 && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <select\r\n                  value={sortState.field}\r\n                  onChange={(e) => setSortState(prev => ({ ...prev, field: e.target.value }))}\r\n                  className=\"px-3 py-2 rounded-lg border border-border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                >\r\n                  {sortOptions.map(opt => (\r\n                    <option key={opt.id} value={opt.field}>{opt.label}</option>\r\n                  ))}\r\n                </select>\r\n                <button\r\n                  onClick={() => setSortState(prev => ({ \r\n                    ...prev, \r\n                    direction: prev.direction === 'asc' ? 'desc' : 'asc' \r\n                  }))}\r\n                  className=\"p-2 rounded-lg border border-border text-muted-foreground hover:text-foreground hover:border-primary/50 transition-colors\"\r\n                  title={sortState.direction === 'asc' ? 'Sort Ascending' : 'Sort Descending'}\r\n                >\r\n                  {sortState.direction === 'asc' \r\n                    ? <SortAsc className=\"w-4 h-4\" />\r\n                    : <SortDesc className=\"w-4 h-4\" />\r\n                  }\r\n                </button>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Layout toggle */}\r\n            <div className=\"flex items-center border border-border rounded-lg overflow-hidden\">\r\n              <button\r\n                onClick={() => setCurrentLayout('list')}\r\n                className={`p-2 transition-colors ${\r\n                  currentLayout === 'list' \r\n                    ? 'bg-primary text-primary-foreground' \r\n                    : 'text-muted-foreground hover:text-foreground'\r\n                }`}\r\n                title=\"List view\"\r\n              >\r\n                <List className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setCurrentLayout('grid')}\r\n                className={`p-2 transition-colors ${\r\n                  currentLayout === 'grid' \r\n                    ? 'bg-primary text-primary-foreground' \r\n                    : 'text-muted-foreground hover:text-foreground'\r\n                }`}\r\n                title=\"Grid view\"\r\n              >\r\n                <Grid className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n            \r\n            {/* Count */}\r\n            {showCount && (\r\n              <span className=\"text-sm text-muted-foreground ml-auto\">\r\n                {displayItems.length} item{displayItems.length !== 1 ? 's' : ''}\r\n                {mode === 'select' && selectedIds.size > 0 && (\r\n                  <> ({selectedIds.size} selected{maxSelections ? ` / ${maxSelections}` : ''})</>\r\n                )}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Filter panel */}\r\n          {showFilters && filterOptions.length > 0 && (\r\n            <div className=\"flex flex-wrap items-end gap-4 p-4 rounded-lg border border-border bg-muted/30\">\r\n              {filterOptions.map(filter => (\r\n                <div key={filter.id} className=\"flex flex-col gap-1\">\r\n                  <label className=\"text-xs font-medium text-muted-foreground\">\r\n                    {filter.label}\r\n                  </label>\r\n                  {filter.type === 'select' && filter.options && (\r\n                    <select\r\n                      value={(filterState[filter.id] as string) || ''}\r\n                      onChange={(e) => setFilterState(prev => ({ \r\n                        ...prev, \r\n                        [filter.id]: e.target.value \r\n                      }))}\r\n                      className=\"px-3 py-1.5 rounded border border-border bg-background text-sm min-w-[140px]\"\r\n                    >\r\n                      <option value=\"\">All</option>\r\n                      {filter.options.map(opt => (\r\n                        <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                  {filter.type === 'checkbox' && (\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={!!filterState[filter.id]}\r\n                        onChange={(e) => setFilterState(prev => ({ \r\n                          ...prev, \r\n                          [filter.id]: e.target.checked \r\n                        }))}\r\n                        className=\"rounded border-border\"\r\n                      />\r\n                      <span className=\"text-sm\">{filter.placeholder || 'Yes'}</span>\r\n                    </label>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              \r\n              {/* Clear filters */}\r\n              {hasActiveFilters && (\r\n                <button\r\n                  onClick={clearFilters}\r\n                  className=\"flex items-center gap-1 px-3 py-1.5 text-sm text-destructive hover:text-destructive/80 transition-colors\"\r\n                >\r\n                  <X className=\"w-3 h-3\" />\r\n                  Clear\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Loading state */}\r\n      {loading && (\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n        </div>\r\n      )}\r\n      \r\n      {/* Empty state */}\r\n      {!loading && displayItems.length === 0 && (\r\n        <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n          <p className=\"text-muted-foreground\">{emptyMessage}</p>\r\n          {hasActiveFilters && (\r\n            <button\r\n              onClick={clearFilters}\r\n              className=\"mt-2 text-sm text-primary hover:underline\"\r\n            >\r\n              Clear filters\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Item list/grid */}\r\n      {!loading && displayItems.length > 0 && (\r\n        <div className={\r\n          currentLayout === 'grid' \r\n            ? `grid ${gridCols[columns]} gap-3`\r\n            : 'space-y-2'\r\n        }>\r\n          {displayItems.map(item => (\r\n            <ItemCard\r\n              key={item.id}\r\n              item={item}\r\n              mode={mode}\r\n              compact={compact}\r\n              actions={{\r\n                ...actions,\r\n                onSelect: handleSelect,\r\n                onDeselect: handleDeselect,\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemList;\r\n","'use client';\r\n\r\n/**\r\n * ItemSelectionModal - Modal for Selecting Items\r\n * ==============================================\r\n * Used in Character Creator and Character Sheet for selecting\r\n * powers, techniques, equipment, feats, etc.\r\n */\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { X, Check } from 'lucide-react';\r\nimport { ItemList } from './item-list';\r\nimport type { DisplayItem, FilterOption, SortOption } from '@/types/items';\r\n\r\ninterface ItemSelectionModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (selectedItems: DisplayItem[]) => void;\r\n  \r\n  // Items to select from\r\n  items: DisplayItem[];\r\n  \r\n  // Selection config\r\n  title: string;\r\n  description?: string;\r\n  maxSelections?: number;\r\n  initialSelectedIds?: Set<string>;\r\n  \r\n  // List config\r\n  filterOptions?: FilterOption[];\r\n  sortOptions?: SortOption[];\r\n  searchPlaceholder?: string;\r\n  \r\n  // Validation\r\n  validateSelection?: (selected: DisplayItem[]) => { valid: boolean; message?: string };\r\n  \r\n  // Loading\r\n  loading?: boolean;\r\n}\r\n\r\nexport function ItemSelectionModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  items,\r\n  title,\r\n  description,\r\n  maxSelections,\r\n  initialSelectedIds = new Set(),\r\n  filterOptions = [],\r\n  sortOptions = [],\r\n  searchPlaceholder,\r\n  validateSelection,\r\n  loading = false,\r\n}: ItemSelectionModalProps) {\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(initialSelectedIds);\r\n  const [validationError, setValidationError] = useState<string>();\r\n  \r\n  // Reset selection when modal opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setSelectedIds(new Set(initialSelectedIds));\r\n      setValidationError(undefined);\r\n    }\r\n  }, [isOpen, initialSelectedIds]);\r\n  \r\n  // Get selected items\r\n  const getSelectedItems = useCallback(() => {\r\n    return items.filter(item => selectedIds.has(item.id));\r\n  }, [items, selectedIds]);\r\n  \r\n  // Handle confirmation\r\n  const handleConfirm = () => {\r\n    const selected = getSelectedItems();\r\n    \r\n    if (validateSelection) {\r\n      const result = validateSelection(selected);\r\n      if (!result.valid) {\r\n        setValidationError(result.message);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    onConfirm(selected);\r\n    onClose();\r\n  };\r\n  \r\n  // Handle selection change\r\n  const handleSelectionChange = (newIds: Set<string>) => {\r\n    setSelectedIds(newIds);\r\n    setValidationError(undefined);\r\n  };\r\n  \r\n  // Handle escape key\r\n  useEffect(() => {\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, onClose]);\r\n  \r\n  // Prevent body scroll when open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n  \r\n  if (!isOpen) return null;\r\n  \r\n  const selectedCount = selectedIds.size;\r\n  \r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 z-50 flex items-center justify-center\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"modal-title\"\r\n    >\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div className=\"relative w-full max-w-4xl max-h-[90vh] m-4 flex flex-col bg-card rounded-xl shadow-xl border border-border overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between gap-4 p-4 border-b border-border\">\r\n          <div>\r\n            <h2 id=\"modal-title\" className=\"text-xl font-semibold text-foreground\">\r\n              {title}\r\n            </h2>\r\n            {description && (\r\n              <p className=\"text-sm text-muted-foreground mt-1\">{description}</p>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-auto p-4\">\r\n          <ItemList\r\n            items={items}\r\n            mode=\"select\"\r\n            selectedIds={selectedIds}\r\n            onSelectionChange={handleSelectionChange}\r\n            maxSelections={maxSelections}\r\n            filterOptions={filterOptions}\r\n            sortOptions={sortOptions}\r\n            searchPlaceholder={searchPlaceholder}\r\n            loading={loading}\r\n            emptyMessage=\"No items available\"\r\n          />\r\n        </div>\r\n        \r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-between gap-4 p-4 border-t border-border bg-muted/30\">\r\n          {/* Selection count */}\r\n          <div className=\"text-sm text-muted-foreground\">\r\n            {selectedCount} selected\r\n            {maxSelections && ` / ${maxSelections} max`}\r\n          </div>\r\n          \r\n          {/* Validation error */}\r\n          {validationError && (\r\n            <div className=\"text-sm text-destructive\">{validationError}</div>\r\n          )}\r\n          \r\n          {/* Actions */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 rounded-lg border border-border text-muted-foreground hover:text-foreground hover:bg-muted transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleConfirm}\r\n              disabled={selectedCount === 0}\r\n              className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <Check className=\"w-4 h-4\" />\r\n              Confirm Selection\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemSelectionModal;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 5h.01', key: '18ugdj' }],\n  ['path', { d: 'M3 12h.01', key: 'nlz23k' }],\n  ['path', { d: 'M3 19h.01', key: 'noohij' }],\n  ['path', { d: 'M8 5h13', key: '1pao27' }],\n  ['path', { d: 'M8 12h13', key: '1za7za' }],\n  ['path', { d: 'M8 19h13', key: 'm83p4d' }],\n];\n\n/**\n * @component @name List\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA1aC4wMSIgLz4KICA8cGF0aCBkPSJNMyAxMmguMDEiIC8+CiAgPHBhdGggZD0iTTMgMTloLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDVoMTMiIC8+CiAgPHBhdGggZD0iTTggMTJoMTMiIC8+CiAgPHBhdGggZD0iTTggMTloMTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/list\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst List = createLucideIcon('list', __iconNode);\n\nexport default List;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n];\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('copy', __iconNode);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm3 8 4-4 4 4', key: '11wl7u' }],\n  ['path', { d: 'M7 4v16', key: '1glfcx' }],\n  ['path', { d: 'M11 12h4', key: 'q8tih4' }],\n  ['path', { d: 'M11 16h7', key: 'uosisv' }],\n  ['path', { d: 'M11 20h10', key: 'jvxblo' }],\n];\n\n/**\n * @component @name ArrowUpNarrowWide\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyA4IDQtNCA0IDQiIC8+CiAgPHBhdGggZD0iTTcgNHYxNiIgLz4KICA8cGF0aCBkPSJNMTEgMTJoNCIgLz4KICA8cGF0aCBkPSJNMTEgMTZoNyIgLz4KICA8cGF0aCBkPSJNMTEgMjBoMTAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-up-narrow-wide\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpNarrowWide = createLucideIcon('arrow-up-narrow-wide', __iconNode);\n\nexport default ArrowUpNarrowWide;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm3 16 4 4 4-4', key: '1co6wj' }],\n  ['path', { d: 'M7 20V4', key: '1yoxec' }],\n  ['path', { d: 'M11 4h10', key: '1w87gc' }],\n  ['path', { d: 'M11 8h7', key: 'djye34' }],\n  ['path', { d: 'M11 12h4', key: 'q8tih4' }],\n];\n\n/**\n * @component @name ArrowDownWideNarrow\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyAxNiA0IDQgNC00IiAvPgogIDxwYXRoIGQ9Ik03IDIwVjQiIC8+CiAgPHBhdGggZD0iTTExIDRoMTAiIC8+CiAgPHBhdGggZD0iTTExIDhoNyIgLz4KICA8cGF0aCBkPSJNMTEgMTJoNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-down-wide-narrow\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDownWideNarrow = createLucideIcon('arrow-down-wide-narrow', __iconNode);\n\nexport default ArrowDownWideNarrow;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M3 9h18', key: '1pudct' }],\n  ['path', { d: 'M3 15h18', key: '5xshup' }],\n  ['path', { d: 'M9 3v18', key: 'fh3hqa' }],\n  ['path', { d: 'M15 3v18', key: '14nvp0' }],\n];\n\n/**\n * @component @name Grid3x3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTMgMTVoMTgiIC8+CiAgPHBhdGggZD0iTTkgM3YxOCIgLz4KICA8cGF0aCBkPSJNMTUgM3YxOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/grid-3x3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Grid3x3 = createLucideIcon('grid-3x3', __iconNode);\n\nexport default Grid3x3;\n","/**\r\n * Item Transformers\r\n * =================\r\n * Transform raw database items into unified DisplayItem format\r\n * Consolidates display logic from various calculators and display functions\r\n */\r\n\r\nimport type { DisplayItem, TransformContext, ItemBadge, ItemStat, ItemDetail } from '@/types/items';\r\n\r\n// Helper: Format number with sign\r\nexport function formatBonus(value: number): string {\r\n  return value >= 0 ? `+${value}` : `${value}`;\r\n}\r\n\r\n// Helper: Capitalize first letter\r\nexport function capitalize(str: string): string {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\r\n}\r\n\r\n// Helper: Format currency\r\nexport function formatGold(amount: number): string {\r\n  if (amount >= 1) return `${amount} gp`;\r\n  if (amount >= 0.1) return `${Math.round(amount * 10)} sp`;\r\n  return `${Math.round(amount * 100)} cp`;\r\n}\r\n\r\n// ===========================================\r\n// POWER TRANSFORMER\r\n// ===========================================\r\ninterface RawPower {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  cost?: number;\r\n  action?: string;\r\n  range?: string | number;\r\n  area?: string;\r\n  duration?: string;\r\n  targets?: string;\r\n  damage?: string;\r\n  healing?: string;\r\n  effects?: string[];\r\n  parts?: string[];\r\n  tags?: string[];\r\n  school?: string;\r\n}\r\n\r\nexport function transformPower(raw: RawPower, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Cost\r\n  if (raw.cost !== undefined) {\r\n    stats.push({ label: 'Cost', value: `${raw.cost} PP` });\r\n  }\r\n\r\n  // Action\r\n  if (raw.action) {\r\n    stats.push({ label: 'Action', value: capitalize(raw.action) });\r\n  }\r\n\r\n  // Range\r\n  if (raw.range) {\r\n    stats.push({ label: 'Range', value: String(raw.range) });\r\n  }\r\n\r\n  // School badge\r\n  if (raw.school) {\r\n    badges.push({ label: capitalize(raw.school), variant: 'info' });\r\n  }\r\n\r\n  // Details for expanded view\r\n  if (raw.area) {\r\n    details.push({ label: 'Area', value: raw.area });\r\n  }\r\n  if (raw.duration) {\r\n    details.push({ label: 'Duration', value: raw.duration });\r\n  }\r\n  if (raw.targets) {\r\n    details.push({ label: 'Targets', value: raw.targets });\r\n  }\r\n  if (raw.damage) {\r\n    details.push({ label: 'Damage', value: raw.damage });\r\n  }\r\n  if (raw.healing) {\r\n    details.push({ label: 'Healing', value: raw.healing });\r\n  }\r\n  if (raw.effects?.length) {\r\n    details.push({ label: 'Effects', value: raw.effects });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'power',\r\n    type: raw.school,\r\n    cost: raw.cost,\r\n    costLabel: 'PP',\r\n    stats,\r\n    details,\r\n    badges,\r\n    tags: raw.tags,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// TECHNIQUE TRANSFORMER\r\n// ===========================================\r\ninterface RawTechnique {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  cost?: number;\r\n  action?: string;\r\n  range?: string | number;\r\n  damage?: string;\r\n  effects?: string[];\r\n  parts?: string[];\r\n  tags?: string[];\r\n  type?: string;\r\n  weaponType?: string;\r\n}\r\n\r\nexport function transformTechnique(raw: RawTechnique, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Cost\r\n  if (raw.cost !== undefined) {\r\n    stats.push({ label: 'Cost', value: `${raw.cost} TP` });\r\n  }\r\n\r\n  // Action\r\n  if (raw.action) {\r\n    stats.push({ label: 'Action', value: capitalize(raw.action) });\r\n  }\r\n\r\n  // Range\r\n  if (raw.range) {\r\n    stats.push({ label: 'Range', value: String(raw.range) });\r\n  }\r\n\r\n  // Type badge\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'primary' });\r\n  }\r\n\r\n  // Weapon type badge\r\n  if (raw.weaponType) {\r\n    badges.push({ label: raw.weaponType, variant: 'default' });\r\n  }\r\n\r\n  // Details\r\n  if (raw.damage) {\r\n    details.push({ label: 'Damage', value: raw.damage });\r\n  }\r\n  if (raw.effects?.length) {\r\n    details.push({ label: 'Effects', value: raw.effects });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'technique',\r\n    type: raw.type,\r\n    cost: raw.cost,\r\n    costLabel: 'TP',\r\n    stats,\r\n    details,\r\n    badges,\r\n    tags: raw.tags,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// WEAPON TRANSFORMER\r\n// ===========================================\r\ninterface RawWeapon {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  cost?: number;\r\n  damage?: string;\r\n  damageType?: string;\r\n  range?: string | number;\r\n  properties?: string[];\r\n  type?: string;\r\n  hands?: number;\r\n  weight?: number;\r\n}\r\n\r\nexport function transformWeapon(raw: RawWeapon, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Damage\r\n  if (raw.damage) {\r\n    stats.push({ label: 'Damage', value: raw.damage });\r\n  }\r\n\r\n  // Damage type\r\n  if (raw.damageType) {\r\n    badges.push({ label: capitalize(raw.damageType), variant: 'warning' });\r\n  }\r\n\r\n  // Type\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'primary' });\r\n  }\r\n\r\n  // Range\r\n  if (raw.range) {\r\n    stats.push({ label: 'Range', value: String(raw.range) });\r\n  }\r\n\r\n  // Hands\r\n  if (raw.hands) {\r\n    stats.push({ label: 'Hands', value: raw.hands });\r\n  }\r\n\r\n  // Properties\r\n  if (raw.properties?.length) {\r\n    details.push({ label: 'Properties', value: raw.properties });\r\n  }\r\n\r\n  // Weight\r\n  if (raw.weight) {\r\n    details.push({ label: 'Weight', value: `${raw.weight} lb` });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'weapon',\r\n    type: raw.type,\r\n    cost: raw.cost,\r\n    costLabel: 'gp',\r\n    stats,\r\n    details,\r\n    badges,\r\n    tags: raw.properties,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// ARMOR TRANSFORMER\r\n// ===========================================\r\ninterface RawArmor {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  cost?: number;\r\n  defense?: number;\r\n  type?: string;\r\n  properties?: string[];\r\n  weight?: number;\r\n  strengthReq?: number;\r\n}\r\n\r\nexport function transformArmor(raw: RawArmor, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Defense\r\n  if (raw.defense !== undefined) {\r\n    stats.push({ label: 'Defense', value: formatBonus(raw.defense) });\r\n  }\r\n\r\n  // Type\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'primary' });\r\n  }\r\n\r\n  // Properties\r\n  if (raw.properties?.length) {\r\n    details.push({ label: 'Properties', value: raw.properties });\r\n  }\r\n\r\n  // Weight\r\n  if (raw.weight) {\r\n    details.push({ label: 'Weight', value: `${raw.weight} lb` });\r\n  }\r\n\r\n  // Strength requirement\r\n  if (raw.strengthReq) {\r\n    details.push({ label: 'Str Req', value: raw.strengthReq });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'armor',\r\n    type: raw.type,\r\n    cost: raw.cost,\r\n    costLabel: 'gp',\r\n    stats,\r\n    details,\r\n    badges,\r\n    tags: raw.properties,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// EQUIPMENT/GEAR TRANSFORMER\r\n// ===========================================\r\ninterface RawEquipment {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  cost?: number;\r\n  type?: string;\r\n  category?: string;\r\n  weight?: number;\r\n  quantity?: number;\r\n}\r\n\r\nexport function transformEquipment(raw: RawEquipment, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Cost\r\n  if (raw.cost !== undefined) {\r\n    stats.push({ label: 'Cost', value: formatGold(raw.cost) });\r\n  }\r\n\r\n  // Type/Category badge\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'info' });\r\n  }\r\n\r\n  // Weight\r\n  if (raw.weight) {\r\n    details.push({ label: 'Weight', value: `${raw.weight} lb` });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'equipment',\r\n    type: raw.type || raw.category,\r\n    cost: raw.cost,\r\n    costLabel: 'gp',\r\n    stats,\r\n    details,\r\n    badges,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// FEAT TRANSFORMER\r\n// ===========================================\r\ninterface RawFeat {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  category?: string;\r\n  prerequisites?: string;\r\n  benefit?: string;\r\n  requirements?: {\r\n    level?: number;\r\n    abilities?: Record<string, number>;\r\n    skills?: Record<string, number>;\r\n    feats?: string[];\r\n  };\r\n}\r\n\r\nexport function transformFeat(raw: RawFeat, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n  const requirements: DisplayItem['requirements'] = [];\r\n\r\n  // Category badge\r\n  if (raw.category) {\r\n    badges.push({ label: capitalize(raw.category), variant: 'primary' });\r\n  }\r\n\r\n  // Prerequisites text\r\n  if (raw.prerequisites) {\r\n    details.push({ label: 'Prerequisites', value: raw.prerequisites });\r\n  }\r\n\r\n  // Benefit\r\n  if (raw.benefit) {\r\n    details.push({ label: 'Benefit', value: raw.benefit });\r\n  }\r\n\r\n  // Check requirements against character\r\n  if (raw.requirements?.level && context?.characterLevel !== undefined) {\r\n    requirements.push({\r\n      type: 'level',\r\n      name: 'Level',\r\n      value: raw.requirements.level,\r\n      met: context.characterLevel >= raw.requirements.level,\r\n    });\r\n  }\r\n\r\n  if (raw.requirements?.abilities && context?.characterAbilities) {\r\n    for (const [ability, required] of Object.entries(raw.requirements.abilities)) {\r\n      const current = context.characterAbilities[ability] || 0;\r\n      requirements.push({\r\n        type: 'ability',\r\n        name: capitalize(ability),\r\n        value: required,\r\n        met: current >= required,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Determine if feat is disabled\r\n  const unmetRequirements = requirements.filter(r => !r.met);\r\n  const isDisabled = unmetRequirements.length > 0;\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description || raw.benefit,\r\n    category: 'feat',\r\n    type: raw.category,\r\n    details,\r\n    badges,\r\n    requirements,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    isDisabled,\r\n    disabledReason: isDisabled \r\n      ? `Missing: ${unmetRequirements.map(r => `${r.name} ${r.value}`).join(', ')}`\r\n      : undefined,\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// SPECIES TRANSFORMER\r\n// ===========================================\r\ninterface RawSpecies {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  type?: string; // Species type (Humanoid, Beast, etc.)\r\n  size?: string;\r\n  sizes?: string[];\r\n  speed?: number;\r\n  abilityBonuses?: Record<string, number>;\r\n  traits?: string[];\r\n  species_traits?: string[];\r\n  ancestry_traits?: string[];\r\n  flaws?: string[];\r\n  characteristics?: string[];\r\n  skills?: string[];\r\n  languages?: string[];\r\n  ave_height?: number;\r\n  ave_weight?: number;\r\n  adulthood_lifespan?: number[];\r\n}\r\n\r\nexport function transformSpecies(raw: RawSpecies, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const details: ItemDetail[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Species type badge\r\n  if (raw.type) {\r\n    badges.push({ label: raw.type, variant: 'default' });\r\n  }\r\n\r\n  // Size badges - show all available sizes\r\n  if (raw.sizes?.length) {\r\n    raw.sizes.forEach(size => {\r\n      badges.push({ label: capitalize(size), variant: 'info' });\r\n    });\r\n  } else if (raw.size) {\r\n    badges.push({ label: capitalize(raw.size), variant: 'info' });\r\n  }\r\n\r\n  // Speed\r\n  if (raw.speed) {\r\n    stats.push({ label: 'Speed', value: `${raw.speed} ft` });\r\n  }\r\n\r\n  // Ability bonuses\r\n  if (raw.abilityBonuses) {\r\n    const bonusStr = Object.entries(raw.abilityBonuses)\r\n      .map(([ability, bonus]) => `${capitalize(ability)} ${formatBonus(bonus)}`)\r\n      .join(', ');\r\n    if (bonusStr) {\r\n      stats.push({ label: 'Abilities', value: bonusStr });\r\n    }\r\n  }\r\n\r\n  // Physical stats\r\n  if (raw.ave_height) {\r\n    stats.push({ label: 'Avg Height', value: `${raw.ave_height} cm` });\r\n  }\r\n  if (raw.ave_weight) {\r\n    stats.push({ label: 'Avg Weight', value: `${raw.ave_weight} kg` });\r\n  }\r\n  if (raw.adulthood_lifespan?.length === 2) {\r\n    stats.push({ label: 'Adulthood', value: `${raw.adulthood_lifespan[0]} years` });\r\n    stats.push({ label: 'Lifespan', value: `${raw.adulthood_lifespan[1]} years` });\r\n  }\r\n\r\n  // Species Traits\r\n  if (raw.species_traits?.length) {\r\n    details.push({ label: 'Species Traits', value: raw.species_traits });\r\n  }\r\n\r\n  // Ancestry Traits\r\n  if (raw.ancestry_traits?.length) {\r\n    details.push({ label: 'Ancestry Traits', value: raw.ancestry_traits });\r\n  }\r\n\r\n  // Flaws\r\n  if (raw.flaws?.length) {\r\n    details.push({ label: 'Flaws', value: raw.flaws });\r\n  }\r\n\r\n  // Characteristics\r\n  if (raw.characteristics?.length) {\r\n    details.push({ label: 'Characteristics', value: raw.characteristics });\r\n  }\r\n\r\n  // Skills\r\n  if (raw.skills?.length) {\r\n    details.push({ label: 'Skills', value: raw.skills });\r\n  }\r\n\r\n  // Traits (general)\r\n  if (raw.traits?.length) {\r\n    details.push({ label: 'Traits', value: raw.traits });\r\n  }\r\n\r\n  // Languages\r\n  if (raw.languages?.length) {\r\n    details.push({ label: 'Languages', value: raw.languages });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'species',\r\n    type: raw.type || raw.sizes?.join(', ') || raw.size, // Use type or sizes for filtering\r\n    stats,\r\n    details,\r\n    badges,\r\n    tags: raw.traits,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// SKILL TRANSFORMER\r\n// ===========================================\r\ninterface RawSkill {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  ability?: string;\r\n  category?: string;\r\n  trained?: boolean;\r\n}\r\n\r\nexport function transformSkill(raw: RawSkill, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const badges: ItemBadge[] = [];\r\n\r\n  // Linked ability\r\n  if (raw.ability) {\r\n    badges.push({ label: raw.ability.toUpperCase().slice(0, 3), variant: 'info' });\r\n  }\r\n\r\n  // Category\r\n  if (raw.category) {\r\n    badges.push({ label: capitalize(raw.category), variant: 'default' });\r\n  }\r\n\r\n  // Trained-only indicator\r\n  if (raw.trained) {\r\n    badges.push({ label: 'Trained Only', variant: 'warning' });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'skill',\r\n    type: raw.ability,\r\n    badges,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// PROPERTY TRANSFORMER (Item Properties)\r\n// ===========================================\r\ninterface RawProperty {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  type?: string;\r\n  costModifier?: number;\r\n  effect?: string;\r\n}\r\n\r\nexport function transformProperty(raw: RawProperty): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const badges: ItemBadge[] = [];\r\n  const details: ItemDetail[] = [];\r\n\r\n  // Type badge\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'primary' });\r\n  }\r\n\r\n  // Cost modifier\r\n  if (raw.costModifier !== undefined && raw.costModifier !== 0) {\r\n    stats.push({ \r\n      label: 'Cost Mod', \r\n      value: formatBonus(raw.costModifier) \r\n    });\r\n  }\r\n\r\n  // Effect\r\n  if (raw.effect) {\r\n    details.push({ label: 'Effect', value: raw.effect });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description || raw.effect,\r\n    category: 'property',\r\n    type: raw.type,\r\n    stats,\r\n    badges,\r\n    details,\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// PART TRANSFORMER (Power/Technique Parts for Codex)\r\n// ===========================================\r\ninterface RawPart {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  type?: 'power' | 'technique' | string;\r\n  category?: string;\r\n  // Base costs\r\n  base_en?: number;\r\n  base_tp?: number;\r\n  // Options (up to 3)\r\n  op_1_desc?: string;\r\n  op_1_en?: number;\r\n  op_1_tp?: number;\r\n  op_2_desc?: string;\r\n  op_2_en?: number;\r\n  op_2_tp?: number;\r\n  op_3_desc?: string;\r\n  op_3_en?: number;\r\n  op_3_tp?: number;\r\n  // Flags\r\n  percentage?: boolean;\r\n  mechanic?: boolean;\r\n}\r\n\r\nexport function transformPart(raw: RawPart): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const badges: ItemBadge[] = [];\r\n  const details: ItemDetail[] = [];\r\n\r\n  // Type/Category badges\r\n  if (raw.type) {\r\n    badges.push({ \r\n      label: capitalize(raw.type), \r\n      variant: raw.type.toLowerCase() === 'power' ? 'info' : 'warning' \r\n    });\r\n  }\r\n  if (raw.category && raw.category !== raw.type) {\r\n    badges.push({ label: capitalize(raw.category), variant: 'default' });\r\n  }\r\n  \r\n  // Flags as badges\r\n  if (raw.mechanic) {\r\n    badges.push({ label: 'Mechanic', variant: 'primary' });\r\n  }\r\n  if (raw.percentage) {\r\n    badges.push({ label: 'Percentage', variant: 'primary' });\r\n  }\r\n\r\n  // Base costs\r\n  if (raw.base_en !== undefined && raw.base_en !== 0) {\r\n    stats.push({ label: 'Base EN', value: raw.base_en });\r\n  }\r\n  if (raw.base_tp !== undefined && raw.base_tp !== 0) {\r\n    stats.push({ label: 'Base TP', value: raw.base_tp });\r\n  }\r\n\r\n  // Options (add to details for expanded view)\r\n  if (raw.op_1_desc) {\r\n    details.push({ \r\n      label: 'Option 1', \r\n      value: `${raw.op_1_desc} (EN: ${raw.op_1_en || 0}, TP: ${raw.op_1_tp || 0})` \r\n    });\r\n  }\r\n  if (raw.op_2_desc) {\r\n    details.push({ \r\n      label: 'Option 2', \r\n      value: `${raw.op_2_desc} (EN: ${raw.op_2_en || 0}, TP: ${raw.op_2_tp || 0})` \r\n    });\r\n  }\r\n  if (raw.op_3_desc) {\r\n    details.push({ \r\n      label: 'Option 3', \r\n      value: `${raw.op_3_desc} (EN: ${raw.op_3_en || 0}, TP: ${raw.op_3_tp || 0})` \r\n    });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: raw.category || 'part', // Part's category (e.g., 'Elemental', 'Buff')\r\n    type: raw.type, // 'power' or 'technique'\r\n    cost: (raw.base_en || 0) + (raw.base_tp || 0), // Combined cost for sorting\r\n    stats,\r\n    badges,\r\n    details,\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n\r\n// ===========================================\r\n// CREATURE TRANSFORMER\r\n// ===========================================\r\ninterface RawCreature {\r\n  id?: string;\r\n  name: string;\r\n  description?: string;\r\n  level?: number;\r\n  type?: string;\r\n  size?: string;\r\n  hp?: number;\r\n  defense?: number;\r\n  abilities?: Record<string, number>;\r\n  skills?: Record<string, number>;\r\n  attacks?: unknown[];\r\n  traits?: string[];\r\n}\r\n\r\nexport function transformCreature(raw: RawCreature, context?: TransformContext): DisplayItem {\r\n  const stats: ItemStat[] = [];\r\n  const badges: ItemBadge[] = [];\r\n  const details: ItemDetail[] = [];\r\n\r\n  // Level\r\n  if (raw.level !== undefined) {\r\n    stats.push({ label: 'Level', value: raw.level });\r\n  }\r\n\r\n  // HP\r\n  if (raw.hp !== undefined) {\r\n    stats.push({ label: 'HP', value: raw.hp });\r\n  }\r\n\r\n  // Defense\r\n  if (raw.defense !== undefined) {\r\n    stats.push({ label: 'Def', value: raw.defense });\r\n  }\r\n\r\n  // Type badge\r\n  if (raw.type) {\r\n    badges.push({ label: capitalize(raw.type), variant: 'primary' });\r\n  }\r\n\r\n  // Size badge\r\n  if (raw.size) {\r\n    badges.push({ label: capitalize(raw.size), variant: 'info' });\r\n  }\r\n\r\n  // Abilities\r\n  if (raw.abilities) {\r\n    const abilityStr = Object.entries(raw.abilities)\r\n      .map(([ability, value]) => `${ability.slice(0, 3).toUpperCase()} ${value}`)\r\n      .join(', ');\r\n    details.push({ label: 'Abilities', value: abilityStr });\r\n  }\r\n\r\n  // Traits\r\n  if (raw.traits?.length) {\r\n    details.push({ label: 'Traits', value: raw.traits });\r\n  }\r\n\r\n  return {\r\n    id: raw.id || raw.name,\r\n    name: raw.name,\r\n    description: raw.description,\r\n    category: 'creature',\r\n    type: raw.type,\r\n    stats,\r\n    badges,\r\n    details,\r\n    tags: raw.traits,\r\n    isSelected: context?.selectedIds?.has(raw.id || raw.name),\r\n    sourceData: { ...raw },\r\n  };\r\n}\r\n"],"names":[],"mappings":"0EASA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,wCQemC,cAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,iEArBwB,CJAJ,AIAI,CJAJ,AIAI,CJAJ,AIAI,CAAA,MAAU,uJRM7F,IAAA,EAAA,EAAA,CAAA,CAAA,+EINwD,CIAxC,AEAwC,ANAA,CAAA,AMAA,AFAxC,CEAwC,AFAxC,AJAwC,AAAI,CMAA,AFA5C,CEA4C,AFA5C,CEA4C,AFA5C,AJA4C,CIA5C,AEA4C,ANAA,AAAK,CAAA,AIAjD,AEAiD,CFAjD,AEAiD,CAAA,AFAjD,AJAqD,kBAAoB,sEACd,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,GCoB1F,EAAA,CAAA,EAAY,CAAA,CAAA,CGAN,AHAM,CAAA,AGAN,CAAA,AHAM,IAAA,EAAA,OAAwB,CGAD,AHAC,CGAD,AHAC,CGAD,AHAC,CGAD,AHAC,CGAD,AHAC,CGAD,AHAC,CGAD,AHAC,CAAA,AGAD,CAAA,AHAC,CGAD,AHAW,CGAX,AHAW,oKAdE,CAAU,CAAA,GLD1D,IAAA,EAAA,EAAA,CAAA,CAAA,MAaA,IAAM,EAAgB,CACpB,QAAS,iCACT,QAAS,6BACT,QAAS,iCACT,QAAS,mCACT,OAAQ,6BACR,KAAM,8BACR,EAEO,SAAS,EAAS,MACvB,CAAI,MACJ,EAAO,MAAM,SACb,CAAO,aACP,GAAc,CAAK,CACnB,UAAU,EAAK,WACf,EAAY,EAAE,CACA,EACd,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,GAEvC,EAAc,EAAK,OAAO,EAAI,EAAK,OAAO,CAAC,MAAM,CAAG,GAAM,EAAK,WAAW,CAC1E,EAAwB,WAAT,EACf,EAAwB,WAAT,EAEf,EAAc,KACd,GAAgB,CAAC,EAAK,UAAU,CAC9B,CADgC,CAC3B,UAAU,CACjB,CADmB,EACV,aAAa,GAEtB,GAAS,WAAW,GAEb,GACT,EAAc,CAAC,EAEnB,EASA,EAZyB,IAavB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,CAAC;;QAEV,EAAE,EAAK,UAAU,CACb,mDACA,gDACH;QACD,EAAE,EAAK,UAAU,CACb,gCACA,GAAgB,EAAa,iBAAmB,GACnD;QACD,EAAE,EAAU,MAAQ,MAAM;QAC1B,EAAE,UAAU;MACd,CAAC,CACD,QAAS,EACT,UAvBkB,AAAC,CAuBR,IAtBT,AAAU,YAAR,GAAG,EAA0B,MAAV,EAAE,GAAQ,AAAL,GAAU,CACtC,EAAE,cAAc,GAChB,IAEJ,EAmBI,SAAU,GAAgB,CAAC,EAAK,UAAU,CAAG,OAAI,EACjD,KAAM,EAAe,cAAW,EAChC,eAAc,EAAe,EAAK,UAAU,MAAG,EAC/C,gBAAe,EAAK,UAAU,WAG9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC;;gBAEV,EAAE,EAAK,UAAU,CACb,4BACA,6BACH;gBACD,EAAE,EAAK,UAAU,CAAG,aAAe,GAAG;cACxC,CAAC,UAEA,EAAK,UAAU,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,sCAKzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,CAAC,qCAAqC,EAAE,EAAU,UAAY,GAAA,CAAI,UAC9E,EAAK,IAAI,GAEX,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAA0C,EAAK,QAAQ,SAM1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEZ,CAAC,GAAW,EAAK,KAAK,EAAI,EAAK,KAAK,CAAC,MAAM,CAAG,GAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEACZ,EAAK,KAAK,CAAC,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,CAAC,EAAM,IACjC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAa,UAAU,8BACtB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,EAAK,KAAK,CAAC,OAAS,IAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA+B,EAAK,KAAK,KAFhD,WASF,IAAd,EAAK,IAAI,EACR,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+DACb,EAAK,IAAI,CAAC,IAAE,EAAK,SAAS,IAK9B,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAA0B,QAAS,GAAK,EAAE,eAAe,aACrE,GAAS,QACR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,MAAM,GAAG,GAChC,UAAU,iDACV,MAAM,gBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAI,UAAU,oCAGlB,GAAS,QACR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,MAAM,GAAG,GAChC,UAAU,iDACV,MAAM,gBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,oCAGnB,GAAS,aACR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,WAAW,GAAG,GACrC,UAAU,iDACV,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,oCAGnB,GAAS,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,QAAQ,GAAG,GAClC,UAAU,0DACV,MAAM,kBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,kCAOzB,GAAc,CAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,+CACV,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,EAAc,CAAC,EACjB,WAEC,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,kCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0CAQlC,EAAK,MAAM,EAAI,EAAK,MAAM,CAAC,MAAM,CAAG,GACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,EAAU,OAAS,OAAA,CAAQ,UAChE,EAAK,MAAM,CAAC,GAAG,CAAC,CAAC,EAAO,IACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,UAAW,CAAC,iCAAiC,EAAE,CAAa,CAAC,EAAM,OAAO,CAAC,CAAA,CAAE,UAE5E,EAAM,KAAK,EAHP,MAUZ,EAAK,IAAI,EAAI,EAAK,IAAI,CAAC,MAAM,CAAG,GAAK,CAAC,GACrC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAK,IACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,UAAU,wEAET,GAHI,MAUZ,EAAK,UAAU,EAAI,EAAK,cAAc,EACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0BACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,cAAc,MAK7B,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAEZ,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAK,WAAW,GAI/D,EAAK,OAAO,EAAI,EAAK,OAAO,CAAC,GAAG,CAAC,CAAC,EAAQ,IACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,oBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,EAAO,KAAK,CAAC,QAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACb,MAAM,OAAO,CAAC,EAAO,KAAK,EACvB,EAAO,KAAK,CAAC,IAAI,CAAC,MAClB,EAAO,KAAK,KALV,IAYX,EAAK,YAAY,EAAI,EAAK,YAAY,CAAC,MAAM,CAAG,GAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA8B,mBAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACb,EAAK,YAAY,CAAC,GAAG,CAAC,CAAC,EAAK,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAEC,UAAW,EAAI,GAAG,CAAG,iBAAmB,yBAEvC,EAAI,IAAI,CAAC,IAAE,EAAI,KAAK,CACpB,EAAI,EAAK,YAAY,CAAE,MAAM,CAAG,EAAI,KAAO,KAJvC,cAczB,CC3QA,IAAA,EAAA,EAAA,CAAA,CAAA,gBKY0B,CIAV,AHAV,ADAoB,CAAA,OAAA,EAAA,gEAlBqB,qKCkBnB,EAAA,0BAA2C,CDAJ,ACAI,CDAJ,ACAI,CAAA,ADAJ,CCAI,ADAJ,CAAA,ACAI,CDAM,ACAN,CAAA,ADAM,CCAN,CAAA,CAAU,CAAA,6FAhBhD,sFEkB3B,EAAS,CAAA,CAAA,CAAA,CAAA,AAAT,CAAS,AAAT,AAAS,CAAA,AAAT,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,wKCFpC,CAAA,EAAA,EAAA,OAAA,EAAiB,CAAA,AHAL,ADAF,CCAE,AGAK,AJAP,CAAA,ACAE,AGAK,CAAA,AHAL,ADAF,CAAA,AIAO,AHAL,CAAA,ADAF,AIAO,CJAP,AIAO,AHAL,CAAA,ADAF,AIAO,qEAlB+C,CFAF,AJAC,mCMCrC,CNA1B,ADA4B,0EOGzC,CHAA,AFDM,ACCN,AGDM,ADAL,AECD,APAA,COAA,APAA,AGAA,ACAA,ACDC,AHAK,AIAA,oCNgBH,CEZH,CAAA,CAAA,EAAA,EAAA,OAAA,AFYU,EAAiB,CAAA,AEZD,CAAA,AFYC,CEZD,AFYC,IApBvB,CACL,AAmBoC,0BAnBL,mBACtB,CGAA,AFAA,AMAA,APAA,AIAA,cJAkB,COAF,AJAA,AHAE,AIAF,AHAX,CGAW,AJAE,ACAb,AEAW,AIAA,EPAO,COAF,ANAhB,AEAgB,ACAA,AJAE,SAAU,EACzC,sBAA0B,CAAA,AGAD,AIAA,AHAA,CGAA,AHAA,ADAA,AHAC,CGAD,AIAA,AHAA,AJAC,CAAK,CGAD,AHAC,AOAD,AHAA,CDAA,AIAA,AHAA,AJAC,CAAA,AGAD,AIAA,AHAA,CAAA,ADAA,AIAA,APAC,COAD,AHAA,ADAA,AHAC,CGAD,ACAA,AGAA,APAC,CAAA,GAAU,UAC/B,CCYA,AKZJ,AJAA,CAAA,ADYI,AKZJ,mDNCwB,WAC/B,CAAC,OAAQ,CAAE,AKAF,ALAA,CKAA,CAAA,WLAiB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,IAAA,CAAU,CAAA,GFC3C,IAAA,EAAA,EAAA,CAAA,CAAA,OAqCO,SAAS,EAAS,OACvB,CAAK,MACL,EAAO,MAAM,SACb,CAAO,QACP,EAAS,MAAM,SACf,EAAU,CAAC,SACX,GAAU,CAAK,eACf,EAAgB,EAAE,aAClB,EAAc,EAAE,aAChB,EAAc,CAAE,MAAO,OAAQ,UAAW,KAAM,CAAC,CACjD,aAAa,EAAI,mBACjB,EAAoB,iBAAiB,cACrC,EAAe,CAAC,OAAQ,cAAe,OAAQ,WAAW,CAC1D,YAAa,CAAmB,mBAChC,CAAiB,eACjB,CAAa,CACb,cAAa,CAAI,WACjB,GAAY,CAAI,cAChB,EAAe,gBAAgB,CAC/B,WAAU,CAAK,WACf,EAAY,EAAE,CACA,EAEd,GAAM,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,IAAI,KAC1E,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,CAAE,OAAQ,EAAG,GACnE,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,GAChD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAGzC,EAAc,GAAuB,EAGrC,EAAe,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,AAAC,IAChC,IAAM,EAAc,IAAI,IAAI,GAE5B,GAAsB,GAAG,CAArB,EAEF,EAAY,KAAK,GACjB,EAAY,GAAG,CAAC,EAAK,EAAE,OAClB,GAAI,GAAiB,EAAY,IAAI,EAAI,EAE9C,OAEA,EAAY,GAAG,CAJ8C,AAI7C,EAAK,EAAE,EAGrB,EACF,EAAkB,GAElB,EAAuB,GAEzB,GAAS,IALc,OAKH,EACtB,EAAG,CAAC,EAAa,EAAe,EAAmB,EAAQ,EAErD,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAClC,IAAM,EAAc,IAAI,IAAI,GAC5B,EAAY,MAAM,CAAC,EAAK,EAAE,EAEtB,EACF,EAAkB,GAElB,EAAuB,GAEzB,GAAS,IALc,SAKD,EACxB,EAAG,CAAC,EAAa,EAAmB,EAAQ,EAGtC,EAAgB,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,IACrB,EAAM,MAAM,CAAC,IAElB,GAAI,EAAY,MAAM,CAAE,CACtB,IAAM,EAAc,EAAY,MAAM,CAAC,WAAW,GAWlD,GAAI,CAVkB,AAUjB,EAV8B,IAAI,CAAC,IACtC,IAAM,EAAQ,CAAI,CAAC,EAAM,OACzB,AAAI,AAAiB,UAAU,OAApB,EACF,EAAM,WAAW,GAAG,QAAQ,CAAC,KAElC,MAAM,OAAO,CAAC,IACT,EAAM,EADW,EACP,CAAC,GAAK,OAAO,GAAG,WAAW,GAAG,QAAQ,CAAC,GAG5D,GACoB,OAAO,CAC7B,CAGA,IAAK,IAAM,KAAU,EAAe,CAClC,IAAM,EAAc,CAAW,CAAC,EAAO,EAAE,CAAC,CAC1C,QAAoB,IAAhB,GAA6C,KAAhB,GAAuB,MAAM,OAAO,CAAC,IAAuC,GAAI,CAA3B,EAAY,MAAM,CACtG,SAGF,IAAM,EAAY,CAAI,CAAC,EAAO,EAAE,CAAC,CAEjC,GAAoB,WAAhB,EAAO,IAAI,EAAiC,QAAQ,CAAxB,EAAO,IAAI,EACzC,GAA2B,UAAvB,OAAO,GAA4C,IAAI,CAApB,GACjC,OAAO,GAAW,WAAW,KAAO,EAAY,WAAW,GAC7D,CADiE,MAC1D,CAEX,MACK,GAAoB,eAAe,CAA/B,EAAO,IAAI,EACpB,GAAI,MAAM,OAAO,CAAC,IAAgB,EAAY,MAAM,CAAG,EAAG,CACxD,IAAM,EAAU,OAAO,GAAW,WAAW,GAC7C,GAAI,CAAC,EAAY,IAAI,CAAC,GAAK,OAAO,GAAG,WAAW,KAAO,GACrD,OAD+D,AACxD,EAEX,MACK,GAAI,AAAgB,YAAY,GAArB,IAAI,GACA,IAAhB,GAAwB,CAAC,EAC3B,OAAO,CAGb,CAJ4C,AAM5C,OAAO,CACT,GACC,CAAC,EAAO,EAAa,EAAe,EAAa,EAG9C,EAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACnB,IAAI,EAAc,CAAC,IAAI,CAAC,CAAC,EAAG,KACjC,IAAM,EAAS,CAAC,CAAC,EAAU,KAAK,CAAC,CAC3B,EAAS,CAAC,CAAC,EAAU,KAAK,CAAC,CAE7B,EAAa,EAUjB,OAPE,EADoB,UAAlB,OAAO,GAAyC,UAAU,AAA5B,OAAO,EAC1B,EAAO,aAAa,CAAC,GACP,UAAlB,OAAO,GAAyC,UAAlB,AAA4B,OAArB,EACjC,EAAS,EAET,OAAO,GAAU,IAAI,aAAa,CAAC,OAAO,GAAU,KAGpC,SAAxB,EAAU,SAAS,CAAc,CAAC,EAAa,CACxD,GACC,CAAC,EAAe,EAAU,EAGvB,EAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACpB,EAAY,GAAG,CAAC,IAAS,CAC9B,EAD6B,CAC1B,CAAI,CACP,WAAY,EAAY,GAAG,CAAC,EAAK,EAAE,EACrC,CAAC,EACA,CAAC,EAAa,EAAY,EAWvB,EAAe,KACnB,EAAe,CAAE,OAAQ,EAAG,EAC9B,EAGM,EAA0C,KAAvB,EAAY,MAAM,EACzC,EAAc,IAAI,CAAC,IACjB,IAAM,EAAI,CAAW,CAAC,EAAE,EAAE,CAAC,CAC3B,OAAO,KAAM,OAAmB,KAAN,CAAY,GAAC,CAAC,MAAM,OAAO,CAAC,IAAM,EAAE,MAAM,EAAG,CAAC,AAC1E,GAUF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,UAAU,EAAE,EAAA,CAAW,WAErC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CAEZ,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAY,MAAM,CACzB,SAAU,AAAC,GAAM,EAAe,GAAS,EAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC5E,YAAa,EACb,UAAU,sMAEX,EAAY,MAAM,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,GAAG,CAAC,EAC9D,UAAU,iGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,iBAOpB,EAAc,MAAM,CAAG,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAe,CAAC,GAC/B,UAAW,CAAC,sEAAsE,EAChF,GAAe,EACX,4CACA,oFAAA,CACJ,WAEF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,YACzB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAMrB,EAAY,MAAM,CAAG,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,MAAO,EAAU,KAAK,CACtB,SAAU,AAAC,GAAM,EAAa,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACzE,UAAU,8HAET,EAAY,GAAG,CAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAoB,MAAO,EAAI,KAAK,UAAG,EAAI,KAAK,EAApC,EAAI,EAAE,KAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAa,IAAS,CACnC,EADkC,CAC/B,CAAI,CACP,UAAW,AAAmB,UAAd,SAAS,CAAa,OAAS,MACjD,CAAC,EACD,UAAU,4HACV,MAAO,AAAwB,UAAd,SAAS,CAAa,iBAAmB,2BAEzD,AAAwB,UAAd,SAAS,CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,YACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,iBAO9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,QAChC,UAAW,CAAC,sBAAsB,EACd,SAAlB,EACI,qCACA,8CAAA,CACJ,CACF,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,cAElB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,QAChC,UAAW,CAAC,sBAAsB,EACd,SAAlB,EACI,qCACA,8CAAA,CACJ,CACF,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,iBAKnB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kDACb,EAAa,MAAM,CAAC,QAA8B,IAAxB,EAAa,MAAM,CAAS,IAAM,GAC5D,AAAS,cAAY,EAAY,IAAI,CAAG,GACvC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAAE,KAAG,EAAY,IAAI,CAAC,YAAU,EAAgB,CAAC,GAAG,EAAE,EAAA,CAAe,CAAG,GAAG,aAOlF,GAAe,EAAc,MAAM,CAAG,GACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FACZ,EAAc,GAAG,CAAC,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAoB,UAAU,gCAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qDACd,EAAO,KAAK,GAEd,AAAgB,aAAT,IAAI,EAAiB,EAAO,OAAO,EACzC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,CAAY,CAAC,EAAO,EAAE,CAAC,EAAe,GAC7C,SAAW,AAAD,GAAO,EAAe,GAAS,EACvC,EADsC,CACnC,CAAI,CACP,CAAC,EAAO,EAAE,CAAC,CAAE,EAAE,MAAM,CAAC,KAAK,CAC7B,CAAC,EACD,UAAU,yFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,QAChB,EAAO,OAAO,CAAC,GAAG,CAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAuB,MAAO,EAAI,KAAK,UAAG,EAAI,KAAK,EAAvC,EAAI,KAAK,MAIX,aAAhB,EAAO,IAAI,EACV,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mDACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,CAAC,CAAC,CAAW,CAAC,EAAO,EAAE,CAAC,CACjC,SAAU,AAAC,GAAM,EAAe,IAAS,CACvC,EADsC,CACnC,CAAI,CACP,CAAC,EAAO,EAAE,CAAC,CAAE,EAAE,MAAM,CAAC,OAAO,CAC/B,CAAC,EACD,UAAU,0BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAW,EAAO,WAAW,EAAI,aA9B7C,EAAO,EAAE,GAqCpB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,qHAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,YAAY,iBAUpC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFAKlB,CAAC,GAAW,AAAwB,MAAX,MAAM,EAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,IACrC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,qDACX,qBAQN,CAAC,GAAW,EAAa,MAAM,CAAG,GACjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UACe,SAAlB,EACI,CAAC,KAAK,EAAE,CAxMH,CACf,EAAG,cACH,EAAG,6BACH,EAAG,4CACH,EAAG,0DACL,EAmM4B,CAAC,EAAQ,CAAC,MAAM,CAAC,CACjC,qBAEH,EAAa,GAAG,CAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,KAAM,EACN,KAAM,EACN,QAAS,EACT,QAAS,CACP,GAAG,CAAO,CACV,SAAU,EACV,WAAY,CACd,GARK,EAAK,EAAE,OAe1B,CC3YO,SAAS,EAAmB,QACjC,CAAM,SACN,CAAO,WACP,CAAS,CACT,OAAK,OACL,CAAK,aACL,CAAW,eACX,CAAa,oBACb,EAAqB,IAAI,GAAK,eAC9B,EAAgB,EAAE,aAClB,EAAc,EAAE,mBAChB,CAAiB,mBACjB,CAAiB,SACjB,GAAU,CAAK,CACS,EACxB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,GACtD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAGtD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,IACF,EAAe,EADL,EACS,IAAI,IACvB,EAAmB,QAEvB,EAAG,CAAC,EAAQ,EAAmB,EAG/B,IAAM,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,IAC5B,EAAM,MAAM,CAAC,GAAQ,EAAY,GAAG,CAAC,EAAK,EAAE,GAClD,CAAC,EAAO,EAAY,EAgDvB,GAvBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAe,AAAC,IACN,WAAV,EAAE,GAAG,EAAiB,GACxB,GAEJ,EAGA,AANoC,OAKpC,SAAS,gBAAgB,CAAC,UAAW,GAC9B,IAAM,SAAS,mBAAmB,CAAC,UAAW,EACvD,EAAG,CAAC,EAAQ,EAAQ,EAGpB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,EACF,MADU,GACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,SAE/B,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,GAE1B,KACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,EACjC,GACC,CAAC,EAAO,EAEP,CAAC,EAAQ,OAAO,KAEpB,IAAM,EAAgB,EAAY,IAAI,CAEtC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,sDACV,KAAK,SACL,aAAW,OACX,kBAAgB,wBAGhB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,gDACV,QAAS,IAIX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uIAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,GAAG,cAAc,UAAU,iDAC5B,IAEF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,OAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,uGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,iBAKjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAO,EACP,KAAK,SACL,YAAa,EACb,kBAxEqB,AAAD,CAwED,GAvE3B,EAAe,GACf,OAAmB,EACrB,EAsEU,cAAe,EACf,cAAe,EACf,YAAa,EACb,kBAAmB,EACnB,QAAS,EACT,aAAa,yBAKjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAc,YACd,GAAiB,CAAC,GAAG,EAAE,EAAc,IAAI,CAAC,IAI5C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCAA4B,IAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,kIACX,WAGD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAxHU,CAwHD,IAvHnB,IAAM,EAAW,IAEjB,GAAI,EAAmB,CACrB,IAAM,EAAS,EAAkB,GACjC,GAAI,CAAC,EAAO,KAAK,CAAE,YACjB,EAAmB,EAAO,OAAO,CAGrC,CAEA,EAAU,GACV,GACF,EA4GY,SAA4B,IAAlB,EACV,UAAU,kLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,kCAQ3C,CS7LO,SAAS,EAAW,CAAW,SACpC,AAAK,EACE,EADH,AACO,CADD,KACO,CAAC,GAAG,WAAW,GAAK,EAAI,KAAK,CAAC,GAAG,WAAW,GAD5C,EAEnB,CA8BO,SAAS,EAAe,CAAa,CAAE,CAA0B,EACtE,IAAM,EAAoB,EAAE,CACtB,EAAwB,EAAE,CAC1B,EAAsB,EAAE,CA0C9B,YAvCiB,IAAb,EAAI,IAAI,CAAgB,CAC1B,EAAM,IAAI,CAAC,CAAE,MAAO,OAAQ,MAAO,CAAA,EAAG,EAAI,IAAI,CAAC,GAAG,CAAC,AAAC,GAIlD,EAAI,MAAM,EAAE,AACd,EAAM,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAW,EAAI,MAAM,CAAE,GAI1D,EAAI,KAAK,EAAE,AACb,EAAM,IAAI,CAAC,CAAE,MAAO,QAAS,MAAO,OAAO,EAAI,KAAK,CAAE,GAIpD,EAAI,MAAM,EAAE,AACd,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,MAAM,EAAG,QAAS,MAAO,GAI3D,EAAI,IAAI,EAAE,AACZ,EAAQ,IAAI,CAAC,CAAE,MAAO,OAAQ,MAAO,EAAI,IAAI,AAAC,GAE5C,EAAI,QAAQ,EAAE,AAChB,EAAQ,IAAI,CAAC,CAAE,MAAO,WAAY,MAAO,EAAI,QAAS,AAAD,GAEnD,EAAI,OAAO,EAAE,AACf,EAAQ,IAAI,CAAC,CAAE,MAAO,UAAW,MAAO,EAAI,OAAO,AAAC,GAElD,EAAI,MAAM,EAAE,AACd,EAAQ,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAI,MAAM,AAAC,GAEhD,EAAI,OAAO,EAAE,AACf,EAAQ,IAAI,CAAC,CAAE,MAAO,UAAW,MAAO,EAAI,OAAO,AAAC,GAElD,EAAI,OAAO,EAAE,QACf,AADuB,EACf,IAAI,CAAC,CAAE,MAAO,UAAW,MAAO,EAAI,OAAO,AAAC,GAG/C,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,QACV,KAAM,EAAI,MAAM,CAChB,KAAM,EAAI,IAAI,CACd,UAAW,KACX,gBACA,SACA,EACA,KAAM,EAAI,IAAI,CACd,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF,CAoBO,SAAS,EAAmB,CAAiB,CAAE,CAA0B,EAC9E,IAAM,EAAoB,EAAE,CACtB,EAAwB,EAAE,CAC1B,EAAsB,EAAE,CAmC9B,YAhCiB,IAAb,EAAI,IAAI,CAAgB,CAC1B,EAAM,IAAI,CAAC,CAAE,MAAO,OAAQ,MAAO,CAAA,EAAG,EAAI,IAAI,CAAC,GAAG,CAAC,AAAC,GAIlD,EAAI,MAAM,EAAE,AACd,EAAM,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAW,EAAI,MAAM,CAAE,GAI1D,EAAI,KAAK,EAAE,AACb,EAAM,IAAI,CAAC,CAAE,MAAO,QAAS,MAAO,OAAO,EAAI,KAAK,CAAE,GAIpD,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,SAAU,GAI5D,EAAI,UAAU,EAAE,AAClB,EAAO,IAAI,CAAC,CAAE,MAAO,EAAI,UAAU,CAAE,QAAS,SAAU,GAItD,EAAI,MAAM,EAAE,AACd,EAAQ,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAI,MAAM,AAAC,GAEhD,EAAI,OAAO,EAAE,QAAQ,AACvB,EAAQ,IAAI,CAAC,CAAE,MAAO,UAAW,MAAO,EAAI,OAAQ,AAAD,GAG9C,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,YACV,KAAM,EAAI,IAAI,CACd,KAAM,EAAI,IAAI,CACd,UAAW,KACX,gBACA,SACA,EACA,KAAM,EAAI,IAAI,CACd,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF,CAmBO,SAAS,EAAgB,CAAc,CAAE,CAA0B,EACxE,IAAM,EAAoB,EAAE,CACtB,EAAwB,EAAE,CAC1B,EAAsB,EAAE,CAqC9B,OAlCI,EAAI,MAAM,EAAE,AACd,EAAM,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAI,MAAM,AAAC,GAI9C,EAAI,UAAU,EAAE,AAClB,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,UAAU,EAAG,QAAS,SAAU,GAIlE,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,SAAU,GAI5D,EAAI,KAAK,EAAE,AACb,EAAM,IAAI,CAAC,CAAE,MAAO,QAAS,MAAO,OAAO,EAAI,KAAK,CAAE,GAIpD,EAAI,KAAK,EAAE,AACb,EAAM,IAAI,CAAC,CAAE,MAAO,QAAS,MAAO,EAAI,KAAK,AAAC,GAI5C,EAAI,UAAU,EAAE,QAAQ,AAC1B,EAAQ,IAAI,CAAC,CAAE,MAAO,aAAc,MAAO,EAAI,UAAU,AAAC,GAIxD,EAAI,MAAM,EAAE,AACd,EAAQ,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,CAAA,EAAG,EAAI,MAAM,CAAC,GAAG,CAAC,AAAC,GAGrD,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,SACV,KAAM,EAAI,IAAI,CACd,KAAM,EAAI,IAAI,CACd,UAAW,WACX,EACA,iBACA,EACA,KAAM,EAAI,UAAU,CACpB,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF,CAiBO,SAAS,EAAe,CAAa,CAAE,CAA0B,MAtQ5C,EAuQ1B,GAvQuC,CAuQjC,EAAoB,EAAE,CACtB,EAAwB,EAAE,CAC1B,EAAsB,EAAE,CA2B9B,YAxBoB,IAAhB,EAAI,KAAuB,EAAhB,EACb,EAAM,IAAI,CAAC,CAAE,MAAO,UAAW,MA5Q1B,CA4QiC,EAAY,EAAI,OAAO,GA5Q/C,EAAI,CAAC,CAAC,EAAE,EAAA,CAAO,CAAG,CAAA,EAAG,EAAA,CAAO,AA4QqB,GAI7D,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,SAAU,GAI5D,EAAI,UAAU,EAAE,QAAQ,AAC1B,EAAQ,IAAI,CAAC,CAAE,MAAO,aAAc,MAAO,EAAI,UAAU,AAAC,GAIxD,EAAI,MAAM,EAAE,AACd,EAAQ,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,CAAA,EAAG,EAAI,MAAM,CAAC,GAAG,CAAC,AAAC,GAIxD,EAAI,WAAW,EACjB,AADmB,EACX,IAAI,CAAC,CAAE,MAAO,UAAW,MAAO,EAAI,WAAW,AAAC,GAGnD,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,QACV,KAAM,EAAI,IAAI,CACd,KAAM,EAAI,IAAI,CACd,UAAW,WACX,UACA,SACA,EACA,KAAM,EAAI,UAAU,CACpB,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF,CAgBO,SAAS,EAAmB,CAAiB,CAAE,CAA0B,MAxTrD,EAyTzB,IAzTuC,AAyTjC,EAAoB,EAAE,CACtB,EAAwB,EAAE,CAC1B,EAAsB,EAAE,CAiB9B,YAdiB,IAAb,EAAI,IAAI,CAAgB,CAC1B,EAAM,IAAI,CAAC,CAAE,MAAO,OAAQ,MA9T9B,AAAI,CA8TiC,EAAW,EAAI,IAAI,GA9T1C,EAAU,CAAP,AAAO,EAAG,EAAO,GAAG,CAAC,CAClC,GAAU,GAAY,CAAA,CAAP,CAAU,KAAK,KAAK,CAAU,GAAT,GAAa,GAAG,CAAC,CAClD,CAAA,EAAG,KAAK,KAAK,CAAC,AAAS,OAAK,GAAG,CA4ToB,AA5TnB,GAgUnC,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,MAAO,GAIzD,EAAI,MAAM,EAAE,AACd,EAAQ,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,CAAA,EAAG,EAAI,MAAM,CAAC,GAAG,CAAE,AAAD,GAGpD,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,YACV,KAAM,EAAI,IAAI,EAAI,EAAI,QAAQ,CAC9B,KAAM,EAAI,IAAI,CACd,UAAW,KACX,gBACA,SACA,EACA,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF,CAuZO,SAAS,EAAkB,CAAgB,CAAE,CAA0B,EAC5E,IAAM,EAAoB,EAAE,CACtB,EAAsB,EAAE,CACxB,EAAwB,EAAE,CA4BhC,QAzBkB,IAAd,EAAI,KAAK,AAAgB,EAC3B,EAAM,IAAI,CAAC,CAAE,MAAO,QAAS,MAAO,EAAI,KAAK,AAAC,GAI5C,AAAW,WAAP,AAAkB,EAAhB,EACR,EAAM,IAAI,CAAC,CAAE,MAAO,KAAM,MAAO,EAAI,EAAE,AAAC,QAItB,IAAhB,EAAI,KAAuB,EAAhB,EACb,EAAM,IAAI,CAAC,CAAE,MAAO,MAAO,MAAO,EAAI,OAAO,AAAC,GAI5C,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,SAAU,GAI5D,EAAI,IAAI,EAAE,AACZ,EAAO,IAAI,CAAC,CAAE,MAAO,EAAW,EAAI,IAAI,EAAG,QAAS,MAAO,GAIzD,EAAI,SAAS,CAAE,CACjB,IAAM,EAAa,OAAO,OAAO,CAAC,EAAI,SAAS,EAC5C,GAAG,CAAC,CAAC,CAAC,EAAS,EAAM,GAAK,CAAA,EAAG,EAAQ,KAAK,CAAC,EAAG,GAAG,WAAW,GAAG,CAAC,EAAE,EAAA,CAAO,EACzE,IAAI,CAAC,MACR,EAAQ,IAAI,CAAC,CAAE,MAAO,YAAa,MAAO,CAAW,EACvD,CAOA,OAJI,EAAI,MAAM,EAAE,QACd,AADsB,EACd,IAAI,CAAC,CAAE,MAAO,SAAU,MAAO,EAAI,MAAM,AAAC,GAG7C,CACL,GAAI,EAAI,EAAE,EAAI,EAAI,IAAI,CACtB,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,SAAU,WACV,KAAM,EAAI,IAAI,CACd,eACA,UACA,EACA,KAAM,EAAI,MAAM,CAChB,WAAY,GAAS,aAAa,IAAI,EAAI,EAAE,EAAI,EAAI,IAAI,EACxD,WAAY,CAAE,GAAG,CAAG,AAAC,CACvB,CACF","ignoreList":[3,4,5,6,7,8,9,10]}