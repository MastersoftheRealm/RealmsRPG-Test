module.exports=[18894,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(71987),f=a.i(50944);a.i(72500);var g=a.i(18239);a.i(50889);var h=a.i(45838);let i=[{href:"/library",label:"Library"},{href:"/characters",label:"Characters"},{href:"/codex",label:"Codex"},{label:"Rules",dropdown:[{href:"/rules",label:"Core Rulebook"},{href:"/resources",label:"Resources"}]},{label:"Creators",dropdown:[{href:"/power-creator",label:"Powers"},{href:"/technique-creator",label:"Techniques"},{href:"/item-creator",label:"Armaments"}]},{label:"RM Tools",dropdown:[{href:"/encounter-tracker",label:"Encounter Tracker"},{href:"/creature-creator",label:"Creature Creator"}]}];function j(){let a=(0,f.usePathname)(),{user:j,signOut:o}=(0,h.useAuth)(),[p,q]=(0,c.useState)(!1);return(0,b.jsxs)("header",{className:"sticky top-0 z-50 w-full bg-[#f6f6f6] border-b border-[#707070] h-20",children:[(0,b.jsx)("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-24",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-20 gap-14",children:[(0,b.jsx)(d.default,{href:"/",className:"flex-shrink-0",children:(0,b.jsx)(e.default,{src:"/images/LogoSmall.png",alt:"Realms RPG",width:44,height:49,className:"w-11 h-auto",priority:!0})}),(0,b.jsx)("nav",{className:"hidden lg:flex items-center gap-14 flex-1 justify-center",children:i.map(c=>c.dropdown?(0,b.jsx)(k,{item:c,pathname:a},c.label):(0,b.jsx)(d.default,{href:c.href,className:(0,g.cn)("font-semibold text-lg text-[#053357] hover:text-[#0a5a94] transition-colors whitespace-nowrap",a===c.href?"text-[#0a5a94]":""),children:c.label},c.href))}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[j?(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("button",{className:"flex items-center gap-2",children:(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-bold",children:j.displayName?.charAt(0).toUpperCase()??j.email?.charAt(0).toUpperCase()??"?"})}),(0,b.jsx)("div",{className:"hidden group-hover:block absolute right-0 top-full pt-4 before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-4",children:(0,b.jsxs)("div",{className:"w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2",children:[(0,b.jsx)(d.default,{href:"/my-account",className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:"My Account"}),(0,b.jsx)("button",{onClick:()=>o(),className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})})]}):(0,b.jsx)(d.default,{href:"/login",children:(0,b.jsx)(e.default,{src:"/images/ProfileIcon.png",alt:"Sign In",width:40,height:40,className:"w-10 h-10"})}),(0,b.jsxs)("button",{type:"button",className:"lg:hidden p-2 text-gray-600",onClick:()=>q(!p),children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),p?(0,b.jsx)(n,{className:"w-6 h-6"}):(0,b.jsx)(m,{className:"w-6 h-6"})]})]})]})}),p?(0,b.jsx)("div",{className:"lg:hidden border-t border-gray-200 bg-white",children:(0,b.jsx)("nav",{className:"px-4 py-4 space-y-2",children:i.map(c=>c.dropdown?(0,b.jsx)(l,{item:c,pathname:a},c.label):(0,b.jsx)(d.default,{href:c.href,className:"block py-2 text-lg font-semibold text-primary-800",onClick:()=>q(!1),children:c.label},c.href))})}):null]})}function k({item:a,pathname:c}){return(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsxs)("button",{className:"font-semibold text-lg text-[#053357] hover:text-[#0a5a94] transition-colors flex items-center gap-1 whitespace-nowrap",children:[a.label,(0,b.jsx)(o,{className:"w-4 h-4 group-hover:rotate-180 transition-transform"})]}),(0,b.jsx)("div",{className:"hidden group-hover:block absolute top-full left-1/2 -translate-x-1/2 pt-2 before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-4",children:(0,b.jsx)("div",{className:"w-48 bg-[#f6f6f6] rounded-lg shadow-lg border border-[#707070] py-2",children:a.dropdown?.map(a=>(0,b.jsx)(d.default,{href:a.href,className:(0,g.cn)("block px-5 py-3 text-[#053357] hover:bg-gray-200 hover:text-[#0a5a94] transition-colors",c===a.href?"bg-gray-100 text-[#0a5a94]":""),children:a.label},a.href))})})]})}function l({item:a,pathname:e}){let[f,h]=(0,c.useState)(!1);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{className:"flex items-center justify-between w-full py-2 text-lg font-semibold text-[#053357]",onClick:()=>h(!f),children:[a.label,(0,b.jsx)(o,{className:(0,g.cn)("w-4 h-4 transition-transform",f?"rotate-180":"")})]}),f?(0,b.jsx)("div",{className:"pl-4 space-y-1",children:a.dropdown?.map(a=>(0,b.jsx)(d.default,{href:a.href,className:(0,g.cn)("block py-2 text-[#053357]",e===a.href?"text-[#0a5a94]":""),children:a.label},a.href))}):null]})}function m({className:a}){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}function n({className:a}){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}function o({className:a}){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:a,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}a.s(["Header",()=>j])},20930,89606,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(66206);function f({children:a,fallback:f}){let h=(0,d.useRouter)(),{user:i,loading:j,initialized:k}=(0,e.useAuthStore)();return((0,c.useEffect)(()=>{!k||j||i||h.push("/login")},[i,j,k,h]),k&&!j&&i)?(0,b.jsx)(b.Fragment,{children:a}):f??(0,b.jsx)(g,{})}function g(){return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-200 border-t-primary-600"})})}a.i(34816),a.s([],89606),a.s(["ProtectedRoute",()=>f],20930)},72500,a=>{"use strict";a.i(18239),a.s([],72500)},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},39420,a=>{"use strict";a.s(["DEFAULT_DEFENSE_SKILLS",0,{might:0,fortitude:0,reflex:0,discernment:0,mentalFortitude:0,resolve:0}])},34816,a=>{"use strict";let b,c;var d=a.i(20226);function e(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var d;let e=a=>null===a?null:JSON.parse(a,null==b?void 0:b.reviver),f=null!=(d=c.getItem(a))?d:null;return f instanceof Promise?f.then(e):e(f)},setItem:(a,d)=>c.setItem(a,JSON.stringify(d,null==b?void 0:b.replacer)),removeItem:a=>c.removeItem(a)}}let f=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>f(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>f(b)(a)}}},g={strength:0,vitality:0,agility:0,acuity:0,intelligence:0,charisma:0};var h=a.i(39420);let i=["archetype","species","ancestry","abilities","skills","feats","equipment","powers","finalize"],j={name:"",level:1,abilities:{...g},step:0,isComplete:!1},k=(0,d.create)()((b=(a,b)=>({currentStep:"archetype",completedSteps:[],draft:j,setStep:c=>{b().canNavigateToStep(c)&&a({currentStep:c})},nextStep:()=>{let c=i.indexOf(b().currentStep);c<i.length-1&&(b().markStepComplete(b().currentStep),a({currentStep:i[c+1]}))},prevStep:()=>{let c=i.indexOf(b().currentStep);c>0&&a({currentStep:i[c-1]})},markStepComplete:c=>{let d=b().completedSteps;d.includes(c)||a({completedSteps:[...d,c]})},canNavigateToStep:a=>{let c=i.indexOf(a),d=i.indexOf(b().currentStep),e=b().completedSteps;if(c<=d)return!0;for(let a=0;a<c;a++)if(!e.includes(i[a]))return!1;return!0},updateDraft:c=>{a({draft:{...b().draft,...c}})},setArchetype:(c,d,e)=>{let f={id:c,name:c.charAt(0).toUpperCase()+c.slice(1),type:c,pow_abil:"martial"!==c?d:void 0,mart_abil:"power"!==c?e||d:void 0,ability:d};a({draft:{...b().draft,archetype:f,pow_abil:f.pow_abil,mart_abil:f.mart_abil}})},setSpecies:(c,d)=>{let e=b().draft.ancestry;a({draft:{...b().draft,ancestry:{...e,id:c,name:d}}})},setAncestry:(c,d,e)=>{let f=b().draft.ancestry;a({draft:{...b().draft,ancestry:{...f,id:c,name:d,traits:e}}})},updateAbility:(c,d)=>{let e=b().draft.abilities||{...g};a({draft:{...b().draft,abilities:{...e,[c]:d}}})},resetCreator:()=>{a({currentStep:"archetype",completedSteps:[],draft:j})},getCharacter:()=>{let{draft:a}=b(),c=a.healthPoints||0,d=a.energyPoints||0;return{name:a.name||"Unnamed Character",level:a.level||1,abilities:a.abilities||{...g},archetype:a.archetype,pow_abil:a.pow_abil,mart_abil:a.mart_abil,species:a.ancestry?.name||"",ancestry:a.ancestry,skills:a.skills,defenseSkills:a.defenseSkills||{...h.DEFAULT_DEFENSE_SKILLS},defenseVals:a.defenseSkills||{...h.DEFAULT_DEFENSE_SKILLS},feats:a.feats||[],powers:a.powers||[],techniques:a.techniques||[],equipment:a.equipment||[],health_energy_points:{health:c,energy:d},currentHealth:10+c,currentEnergy:10+d,description:a.description||"",notes:a.notes||"",appearance:a.appearance||"",portrait:a.portrait||"",status:"complete"}}}),c={name:"character-creator-storage",storage:e(()=>localStorage),partialize:a=>({currentStep:a.currentStep,completedSteps:a.completedSteps,draft:a.draft})},(a,d,g)=>{let h,i={storage:e(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...c},j=!1,k=new Set,l=new Set,m=i.storage;if(!m)return b((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...b)},d,g);let n=()=>{let a=i.partialize({...d()});return m.setItem(i.name,{state:a,version:i.version})},o=g.setState;g.setState=(a,b)=>(o(a,b),n());let p=b((...b)=>(a(...b),n()),d,g);g.getInitialState=()=>p;let q=()=>{var b,c;if(!m)return;j=!1,k.forEach(a=>{var b;return a(null!=(b=d())?b:p)});let e=(null==(c=i.onRehydrateStorage)?void 0:c.call(i,null!=(b=d())?b:p))||void 0;return f(m.getItem.bind(m))(i.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===i.version)return[!1,a.state];else{if(i.migrate){let b=i.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(b=>{var c;let[e,f]=b;if(a(h=i.merge(f,null!=(c=d())?c:p),!0),e)return n()}).then(()=>{null==e||e(h,void 0),h=d(),j=!0,l.forEach(a=>a(h))}).catch(a=>{null==e||e(void 0,a)})};return g.persist={setOptions:a=>{i={...i,...a},a.storage&&(m=a.storage)},clearStorage:()=>{null==m||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>q(),hasHydrated:()=>j,onHydrate:a=>(k.add(a),()=>{k.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},i.skipHydration||q(),h||p}));a.s(["STEP_ORDER",()=>i,"useCharacterCreatorStore",0,k],34816)}];

//# sourceMappingURL=_6b8f5a9b._.js.map