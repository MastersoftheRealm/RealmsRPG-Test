module.exports=[58304,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(5784),f=a.i(67552),g=a.i(33508);a.i(72500);var h=a.i(18239);function i({label:a,placeholder:c="Choose...",options:d,selectedValues:e,onSelect:f,onRemove:h,className:i=""}){let j=d.filter(a=>!e.includes(a.value));return(0,b.jsxs)("div",{className:`filter-group ${i}`,children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsxs)("select",{onChange:a=>{let b=a.target.value;b&&!e.includes(b)&&(f(b),a.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",defaultValue:"",children:[(0,b.jsx)("option",{value:"",children:c}),j.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),e.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.map(a=>{let c=d.find(b=>b.value===a);return(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[c?.label||a,(0,b.jsx)("button",{type:"button",onClick:()=>h(a),className:"hover:bg-primary-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${c?.label||a}`,children:(0,b.jsx)(g.X,{className:"w-3 h-3"})})]},a)})})]})}var j=a.i(15618);function k({label:a="Ability Requirement",abilities:d,requirements:e,onAdd:f,onRemove:h,className:i=""}){let[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),o=d.filter(a=>!e.some(b=>b.ability===a)),p=()=>{k&&m&&(f({ability:k,maxValue:parseInt(m)}),l(""),n(""))};return(0,b.jsxs)("div",{className:`filter-group ${i}`,children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:k,onChange:a=>l(a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,b.jsx)("option",{value:"",children:"Choose ability"}),o.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsx)("input",{type:"number",value:m,onChange:a=>n(a.target.value),onKeyPress:a=>{"Enter"===a.key&&p()},placeholder:"Max",min:"0",className:"w-20 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),(0,b.jsx)("button",{type:"button",onClick:p,disabled:!k||!m,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,b.jsx)(j.Plus,{className:"w-4 h-4"})})]}),e.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-800 rounded-full text-sm",children:[a.ability," ≤ ",a.maxValue,(0,b.jsx)("button",{type:"button",onClick:()=>h(a.ability),className:"hover:bg-amber-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${a.ability} requirement`,children:(0,b.jsx)(g.X,{className:"w-3 h-3"})})]},a.ability))})]})}function l({label:a="Tags",placeholder:c="Choose tag",tags:d,selectedTags:e,tagMode:f,onSelect:h,onRemove:i,onModeChange:j,className:k=""}){let l=d.filter(a=>!e.includes(a));return(0,b.jsxs)("div",{className:`filter-group ${k}`,children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsxs)("select",{onChange:a=>{let b=a.target.value;b&&!e.includes(b)&&(h(b),a.target.value="")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",defaultValue:"",children:[(0,b.jsx)("option",{value:"",children:c}),l.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 px-3 py-2 rounded-md",children:[(0,b.jsxs)("label",{className:"flex items-center gap-1 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"tagMode",checked:"any"===f,onChange:()=>j("any"),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Any"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-1 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:"tagMode",checked:"all"===f,onChange:()=>j("all"),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),(0,b.jsx)("span",{className:"text-sm",children:"All"})]})]})]}),e.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>i(a),className:"hover:bg-green-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${a}`,children:(0,b.jsx)(g.X,{className:"w-3 h-3"})})]},a))})]})}function m({label:a,options:c,onChange:d,className:e=""}){return(0,b.jsxs)("div",{className:`filter-group ${e}`,children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("div",{className:"flex flex-wrap gap-4",children:c.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.checked,onChange:b=>d(a.id,b.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:a.label})]},a.id))})]})}function n({label:a,value:c,options:d,onChange:e,placeholder:f="Select...",className:g=""}){return(0,b.jsxs)("div",{className:`filter-group ${g}`,children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsxs)("select",{value:c,onChange:a=>e(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,b.jsx)("option",{value:"",children:f}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]})}a.s([],76309),a.i(76309),a.i(50889);var o=a.i(27922),p=a.i(47932),q=a.i(20747);let r=[{id:"feats",label:"Feats"},{id:"skills",label:"Skills"},{id:"species",label:"Species"},{id:"parts",label:"Power & Technique Parts",labelMobile:"Parts"},{id:"properties",label:"Armament Properties",labelMobile:"Properties"},{id:"equipment",label:"Equipment"}];function s(){let[a,d]=(0,c.useState)("feats");return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Codex"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Complete reference for the Realms RPG system."})]}),(0,b.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,b.jsx)("nav",{className:"flex gap-1 overflow-x-auto",children:r.map(c=>(0,b.jsxs)("button",{onClick:()=>d(c.id),className:(0,h.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap",a===c.id?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,b.jsx)("span",{className:"hidden sm:inline",children:c.label}),(0,b.jsx)("span",{className:"sm:hidden",children:c.labelMobile||c.label})]},c.id))})}),"feats"===a&&(0,b.jsx)(t,{}),"skills"===a&&(0,b.jsx)(v,{}),"species"===a&&(0,b.jsx)(x,{}),"equipment"===a&&(0,b.jsx)(z,{}),"properties"===a&&(0,b.jsx)(A,{}),"parts"===a&&(0,b.jsx)(B,{})]})}function t(){let{data:a,isLoading:h,error:j}=(0,o.useRTDBFeats)(),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)({col:"name",dir:1}),[t,v]=(0,c.useState)({search:"",maxLevel:null,abilityRequirements:[],categories:[],abilities:[],tags:[],tagMode:"all",showArchetype:!0,showCharacter:!0,stateFeatMode:"show"}),w=(0,c.useMemo)(()=>{if(!a)return{levels:[],abilities:[],categories:[],tags:[],abilReqAbilities:[]};let b=new Set,c=new Set,d=new Set,e=new Set,f=new Set;return a.forEach(a=>{a.lvl_req>0&&b.add(a.lvl_req),a.ability&&c.add(a.ability),a.category&&d.add(a.category),a.tags?.forEach(a=>e.add(a)),a.ability_req?.forEach(a=>f.add(a))}),{levels:Array.from(b).sort((a,b)=>a-b),abilities:Array.from(c).sort(),categories:Array.from(d).sort(),tags:Array.from(e).sort(),abilReqAbilities:Array.from(f).sort()}},[a]),x=(0,c.useMemo)(()=>a?a.filter(a=>{if(t.search){let b=t.search.toLowerCase();if(!(a.name.toLowerCase().includes(b)||a.description?.toLowerCase().includes(b)||a.tags?.some(a=>a.toLowerCase().includes(b))))return!1}if(null!==t.maxLevel&&a.lvl_req>t.maxLevel||!t.showArchetype&&!a.char_feat||!t.showCharacter&&a.char_feat||"only"===t.stateFeatMode&&!a.state_feat||"hide"===t.stateFeatMode&&a.state_feat)return!1;for(let b of t.abilityRequirements){let c=a.ability_req?.indexOf(b.ability)??-1;if(-1!==c){let d=a.abil_req_val?.[c];if("number"==typeof d&&d>b.maxValue)return!1}}if(t.categories.length>0&&!t.categories.includes(a.category)||t.abilities.length>0&&(!a.ability||!t.abilities.includes(a.ability)))return!1;if(t.tags.length>0){if("all"===t.tagMode){if(!t.tags.every(b=>a.tags?.includes(b)))return!1}else if(!t.tags.some(b=>a.tags?.includes(b)))return!1}return!0}).sort((a,b)=>{let c=r.col,d=a[c],e=b[c];return"string"==typeof d&&"string"==typeof e?r.dir*d.localeCompare(e):"number"==typeof d&&"number"==typeof e?r.dir*(d-e):0}):[],[a,t,r]),y=(0,c.useCallback)(a=>{s(b=>({col:a,dir:b.col===a&&1===b.dir?-1:1}))},[]);return j?(0,b.jsx)(G,{message:"Failed to load feats"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:t.search,onChange:a=>v(b=>({...b,search:a.target.value})),placeholder:"Search names, tags, descriptions...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),t.search&&(0,b.jsx)("button",{onClick:()=>v(a=>({...a,search:""})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("button",{onClick:()=>q(!p),className:"flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[p?(0,b.jsx)(f.ChevronUp,{className:"w-4 h-4"}):(0,b.jsx)(e.ChevronDown,{className:"w-4 h-4"}),p?"Hide Filters":"Show Filters"]}),p&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsx)(n,{label:"Required Level",value:t.maxLevel?.toString()??"",options:w.levels.map(a=>({value:a.toString(),label:`Up to ${a}`})),onChange:a=>v(b=>({...b,maxLevel:a?parseInt(a):null})),placeholder:"No limit"}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsx)(k,{abilities:w.abilReqAbilities,requirements:t.abilityRequirements,onAdd:a=>v(b=>({...b,abilityRequirements:[...b.abilityRequirements,a]})),onRemove:a=>v(b=>({...b,abilityRequirements:b.abilityRequirements.filter(b=>b.ability!==a)}))})}),(0,b.jsx)(i,{label:"Category",placeholder:"Choose category",options:w.categories.map(a=>({value:a,label:a})),selectedValues:t.categories,onSelect:a=>v(b=>({...b,categories:[...b.categories,a]})),onRemove:a=>v(b=>({...b,categories:b.categories.filter(b=>b!==a)}))}),(0,b.jsx)(i,{label:"Ability",placeholder:"Choose ability",options:w.abilities.map(a=>({value:a,label:a})),selectedValues:t.abilities,onSelect:a=>v(b=>({...b,abilities:[...b.abilities,a]})),onRemove:a=>v(b=>({...b,abilities:b.abilities.filter(b=>b!==a)}))}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsx)(l,{tags:w.tags,selectedTags:t.tags,tagMode:t.tagMode,onSelect:a=>v(b=>({...b,tags:[...b.tags,a]})),onRemove:a=>v(b=>({...b,tags:b.tags.filter(b=>b!==a)})),onModeChange:a=>v(b=>({...b,tagMode:a}))})}),(0,b.jsx)(m,{label:"Feat Type",options:[{id:"archetype",label:"Archetype",checked:t.showArchetype},{id:"character",label:"Character",checked:t.showCharacter}],onChange:(a,b)=>{"archetype"===a&&v(a=>({...a,showArchetype:b})),"character"===a&&v(a=>({...a,showCharacter:b}))}}),(0,b.jsx)(n,{label:"State Feats",value:t.stateFeatMode,options:[{value:"show",label:"Show State Feats"},{value:"only",label:"Show Only State Feats"},{value:"hide",label:"Don't Show State Feats"}],onChange:a=>v(b=>({...b,stateFeatMode:a})),placeholder:"Show State Feats"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:h?"Loading...":`${x.length} feats found`}),(0,b.jsxs)("div",{className:"hidden lg:grid grid-cols-6 gap-4 px-4 py-2 bg-gray-100 rounded-t-lg font-medium text-sm text-gray-700",children:[(0,b.jsx)(E,{label:"NAME",col:"name",sortState:r,onSort:y}),(0,b.jsx)(E,{label:"REQ. LEVEL",col:"lvl_req",sortState:r,onSort:y}),(0,b.jsx)(E,{label:"CATEGORY",col:"category",sortState:r,onSort:y}),(0,b.jsx)(E,{label:"ABILITY",col:"ability",sortState:r,onSort:y}),(0,b.jsx)(E,{label:"RECOVERY",col:"rec_period",sortState:r,onSort:y}),(0,b.jsx)(E,{label:"USES",col:"uses_per_rec",sortState:r,onSort:y})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-b-lg lg:rounded-t-none rounded-lg",children:h?(0,b.jsx)(F,{}):0===x.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No feats match your filters."}):x.map(a=>(0,b.jsx)(u,{feat:a},a.id))})]})}function u({feat:a}){let[d,f]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white",children:[(0,b.jsxs)("button",{onClick:()=>f(!d),className:"w-full grid grid-cols-2 lg:grid-cols-6 gap-2 lg:gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-600 text-sm lg:text-base",children:a.lvl_req||"-"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm lg:text-base hidden lg:block",children:a.category||"-"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm lg:text-base hidden lg:block",children:a.ability||"-"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm lg:text-base hidden lg:block",children:"-"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 text-sm lg:text-base",children:a.uses_per_rec||"-"}),(0,b.jsx)(e.ChevronDown,{className:(0,h.cn)("w-4 h-4 text-gray-400 transition-transform",d&&"rotate-180")})]})]}),d&&(0,b.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50",children:[a.description&&(0,b.jsx)("p",{className:"text-gray-700 mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.char_feat&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:"Character Feat"}),a.state_feat&&(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm",children:"State Feat"}),a.category&&(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:a.category})]}),(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[a.ability_req?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Ability Requirements:"})," ",(0,b.jsx)("span",{className:"text-gray-600",children:a.ability_req.map((b,c)=>{let d=a.abil_req_val?.[c];return`${b}${"number"==typeof d?` ${d}`:""}`}).join(", ")})]}),a.skill_req?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Skill Requirements:"})," ",(0,b.jsx)("span",{className:"text-gray-600",children:a.skill_req.map((b,c)=>{let d=a.skill_req_val?.[c];return`${b}${"number"==typeof d?` ${d}`:""}`}).join(", ")})]}),a.tags?.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.map(a=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs",children:a},a))})]})]})]})}function v(){let{data:a,isLoading:d,error:g}=(0,p.useRTDBSkills)(),[h,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)({col:"name",dir:1}),[o,q]=(0,c.useState)({search:"",abilities:[],baseSkill:"",showSubSkills:!0,subSkillsOnly:!1}),r=(0,c.useMemo)(()=>{if(!a)return{abilities:[],baseSkills:[]};let b=new Set,c=new Set;return a.forEach(a=>{a.ability&&b.add(a.ability),a.category&&c.add(a.category)}),{abilities:Array.from(b).sort(),baseSkills:Array.from(c).sort()}},[a]),s=(0,c.useMemo)(()=>a?a.filter(a=>{if(o.search){let b=o.search.toLowerCase();if(!a.name.toLowerCase().includes(b)&&!a.description?.toLowerCase().includes(b))return!1}return(!(o.abilities.length>0)||!!o.abilities.includes(a.ability))&&(!o.baseSkill||a.category===o.baseSkill)}).sort((a,b)=>{let c=k.col,d=a[c],e=b[c];return"string"==typeof d&&"string"==typeof e?k.dir*d.localeCompare(e):0}):[],[a,o,k]),t=(0,c.useCallback)(a=>{l(b=>({col:a,dir:b.col===a&&1===b.dir?-1:1}))},[]);return g?(0,b.jsx)(G,{message:"Failed to load skills"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(D,{value:o.search,onChange:a=>q(b=>({...b,search:a})),placeholder:"Search names, descriptions..."})}),(0,b.jsxs)("button",{onClick:()=>j(!h),className:"flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[h?(0,b.jsx)(f.ChevronUp,{className:"w-4 h-4"}):(0,b.jsx)(e.ChevronDown,{className:"w-4 h-4"}),h?"Hide Filters":"Show Filters"]}),h&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsx)(i,{label:"Ability",placeholder:"Choose ability",options:r.abilities.map(a=>({value:a,label:a.charAt(0).toUpperCase()+a.slice(1)})),selectedValues:o.abilities,onSelect:a=>q(b=>({...b,abilities:[...b.abilities,a]})),onRemove:a=>q(b=>({...b,abilities:b.abilities.filter(b=>b!==a)}))}),(0,b.jsx)(n,{label:"Base Skill",value:o.baseSkill,options:r.baseSkills.map(a=>({value:a,label:a})),onChange:a=>q(b=>({...b,baseSkill:a})),placeholder:"Any"}),(0,b.jsx)(m,{label:"Skill Type",options:[{id:"subSkills",label:"Include Sub-Skills",checked:o.showSubSkills},{id:"subSkillsOnly",label:"Sub-Skills Only",checked:o.subSkillsOnly}],onChange:(a,b)=>{"subSkills"===a&&q(a=>({...a,showSubSkills:b})),"subSkillsOnly"===a&&q(a=>({...a,subSkillsOnly:b}))}})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:d?"Loading...":`${s.length} skills found`}),(0,b.jsxs)("div",{className:"hidden lg:grid grid-cols-3 gap-4 px-4 py-2 bg-gray-100 rounded-t-lg font-medium text-sm text-gray-700",children:[(0,b.jsx)(E,{label:"NAME",col:"name",sortState:k,onSort:t}),(0,b.jsx)(E,{label:"ABILITIES",col:"ability",sortState:k,onSort:t}),(0,b.jsx)(E,{label:"BASE SKILL",col:"category",sortState:k,onSort:t})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-b-lg lg:rounded-t-none rounded-lg",children:d?(0,b.jsx)(F,{}):0===s.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No skills match your filters."}):s.map(a=>(0,b.jsx)(w,{skill:a},a.id))})]})}function w({skill:a}){let[d,f]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white",children:[(0,b.jsxs)("button",{onClick:()=>f(!d),className:"w-full grid grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-600 capitalize",children:a.ability||"-"}),(0,b.jsxs)("div",{className:"hidden lg:flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:a.category||"-"}),(0,b.jsx)(e.ChevronDown,{className:(0,h.cn)("w-4 h-4 text-gray-400 transition-transform",d&&"rotate-180")})]})]}),d&&a.description&&(0,b.jsx)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50",children:(0,b.jsx)("p",{className:"text-gray-700",children:a.description})})]})}function x(){let{data:a,isLoading:d,error:g}=(0,q.useSpecies)();(0,q.useTraits)();let[h,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)({col:"name",dir:1}),[m,n]=(0,c.useState)({search:"",types:[],sizes:[]}),o=(0,c.useMemo)(()=>{if(!a)return{types:[],sizes:[]};let b=new Set,c=new Set;return a.forEach(a=>{a.type&&b.add(a.type),a.sizes?.forEach(a=>c.add(a))}),{types:Array.from(b).sort(),sizes:Array.from(c).sort()}},[a]),p=(0,c.useMemo)(()=>a?a.filter(a=>{if(m.search){let b=m.search.toLowerCase();if(!a.name.toLowerCase().includes(b)&&!a.description?.toLowerCase().includes(b))return!1}return(!(m.types.length>0)||!!m.types.includes(a.type))&&(!(m.sizes.length>0)||!!a.sizes?.some(a=>m.sizes.includes(a)))}).sort((a,b)=>{let c=k.col,d=a[c],e=b[c];return"string"==typeof d&&"string"==typeof e?k.dir*d.localeCompare(e):0}):[],[a,m,k]),r=(0,c.useCallback)(a=>{l(b=>({col:a,dir:b.col===a&&1===b.dir?-1:1}))},[]);return g?(0,b.jsx)(G,{message:"Failed to load species"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(D,{value:m.search,onChange:a=>n(b=>({...b,search:a})),placeholder:"Search names, descriptions..."})}),(0,b.jsxs)("button",{onClick:()=>j(!h),className:"flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[h?(0,b.jsx)(f.ChevronUp,{className:"w-4 h-4"}):(0,b.jsx)(e.ChevronDown,{className:"w-4 h-4"}),h?"Hide Filters":"Show Filters"]}),h&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsx)(i,{label:"Type",placeholder:"Choose type",options:o.types.map(a=>({value:a,label:a})),selectedValues:m.types,onSelect:a=>n(b=>({...b,types:[...b.types,a]})),onRemove:a=>n(b=>({...b,types:b.types.filter(b=>b!==a)}))}),(0,b.jsx)(i,{label:"Size",placeholder:"Choose size",options:o.sizes.map(a=>({value:a,label:a})),selectedValues:m.sizes,onSelect:a=>n(b=>({...b,sizes:[...b.sizes,a]})),onRemove:a=>n(b=>({...b,sizes:b.sizes.filter(b=>b!==a)}))})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:d?"Loading...":`${p.length} species found`}),(0,b.jsxs)("div",{className:"hidden lg:grid grid-cols-4 gap-4 px-4 py-2 bg-gray-100 rounded-t-lg font-medium text-sm text-gray-700",children:[(0,b.jsx)(E,{label:"NAME",col:"name",sortState:k,onSort:r}),(0,b.jsx)(E,{label:"TYPE",col:"type",sortState:k,onSort:r}),(0,b.jsx)("div",{children:"SIZES"}),(0,b.jsx)("div",{children:"DESCRIPTION"})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-b-lg lg:rounded-t-none rounded-lg",children:d?(0,b.jsx)(F,{}):0===p.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No species match your filters."}):p.map(a=>(0,b.jsx)(y,{species:a},a.id))})]})}function y({species:a}){let[d,f]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white",children:[(0,b.jsxs)("button",{onClick:()=>f(!d),className:"w-full grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-600",children:a.type||"-"}),(0,b.jsx)("div",{className:"text-gray-600 hidden lg:block",children:a.sizes?.join(", ")||"-"}),(0,b.jsxs)("div",{className:"hidden lg:flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-gray-600 truncate",children:[a.description?.substring(0,50),"..."]}),(0,b.jsx)(e.ChevronDown,{className:(0,h.cn)("w-4 h-4 text-gray-400 transition-transform flex-shrink-0",d&&"rotate-180")})]})]}),d&&(0,b.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50 space-y-4",children:[a.description&&(0,b.jsx)("p",{className:"text-gray-700",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.ave_height&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Avg Height:"})," ",a.ave_height," cm"]}),a.ave_weight&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Avg Weight:"})," ",a.ave_weight," kg"]}),a.speed&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Speed:"})," ",a.speed," ft"]}),a.languages?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Languages:"})," ",a.languages.join(", ")]})]}),a.species_traits?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Species Traits"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.species_traits.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:a},a))})]}),a.ancestry_traits?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Ancestry Traits"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.ancestry_traits.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",children:a},a))})]}),a.flaws?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Flaws"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.flaws.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:a},a))})]}),a.skills?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Skills"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.skills.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded text-sm",children:a},a))})]})]})]})}function z(){let{data:a,isLoading:d,error:e}=(0,q.useEquipment)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)({col:"name",dir:1}),l=(0,c.useMemo)(()=>{if(!a)return[];let b=new Set;return a.forEach(a=>a.type&&b.add(a.type)),Array.from(b).sort()},[a]),m=(0,c.useMemo)(()=>a?a.filter(a=>(!f||!!a.name.toLowerCase().includes(f.toLowerCase())||!!a.description?.toLowerCase().includes(f.toLowerCase()))&&(!h||a.type===h)).sort((a,b)=>"name"===j.col?j.dir*a.name.localeCompare(b.name):"gold_cost"===j.col?j.dir*((a.gold_cost||0)-(b.gold_cost||0)):0):[],[a,f,h,j]);return e?(0,b.jsx)(G,{message:"Failed to load equipment"}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(D,{value:f,onChange:g,placeholder:"Search equipment..."})}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),l.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:d?"Loading...":`${m.length} items found`}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-lg",children:d?(0,b.jsx)(F,{}):0===m.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No equipment found."}):m.map(a=>(0,b.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[a.type," ",a.subtype&&`• ${a.subtype}`]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"font-medium text-amber-600",children:[a.gold_cost," gp"]})})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.description})]},a.id))})]})}function A(){let{data:a,isLoading:d,error:e}=(0,q.useItemProperties)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),j=(0,c.useMemo)(()=>{if(!a)return[];let b=new Set;return a.forEach(a=>a.type&&b.add(a.type)),Array.from(b).sort()},[a]),k=(0,c.useMemo)(()=>a?a.filter(a=>(!f||!!a.name.toLowerCase().includes(f.toLowerCase())||!!a.description?.toLowerCase().includes(f.toLowerCase()))&&(!h||a.type===h)).sort((a,b)=>a.name.localeCompare(b.name)):[],[a,f,h]);return e?(0,b.jsx)(G,{message:"Failed to load properties"}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(D,{value:f,onChange:g,placeholder:"Search properties..."})}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),j.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:d?"Loading...":`${k.length} properties found`}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-lg",children:d?(0,b.jsx)(F,{}):0===k.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No properties found."}):k.map(a=>(0,b.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.type})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.description}),void 0!==a.tp_cost&&(0,b.jsxs)("div",{className:"text-sm text-amber-600 mt-1",children:["TP Cost: ",a.tp_cost]})]},a.id))})]})}function B(){let{data:a,isLoading:d,error:e}=(0,q.useParts)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)({col:"name",dir:1}),n=(0,c.useMemo)(()=>{if(!a)return{categories:[],types:[]};let b=new Set,c=new Set;return a.forEach(a=>{a.category&&b.add(a.category),a.type&&c.add(a.type)}),{categories:Array.from(b).sort(),types:Array.from(c).sort()}},[a]),o=(0,c.useMemo)(()=>a?a.filter(a=>(!f||!!a.name.toLowerCase().includes(f.toLowerCase())||!!a.description?.toLowerCase().includes(f.toLowerCase()))&&(!h||a.category===h)&&(!j||a.type===j)).sort((a,b)=>"name"===l.col?l.dir*a.name.localeCompare(b.name):"category"===l.col?l.dir*(a.category||"").localeCompare(b.category||""):"type"===l.col?l.dir*(a.type||"").localeCompare(b.type||""):0):[],[a,f,h,j,l]),p=(0,c.useCallback)(a=>{m(b=>({col:a,dir:b.col===a&&1===b.dir?-1:1}))},[]);return e?(0,b.jsx)(G,{message:"Failed to load parts"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(D,{value:f,onChange:g,placeholder:"Search parts..."})}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"",children:"All Categories"}),n.categories.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),n.types.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:d?"Loading...":`${o.length} parts found`}),(0,b.jsxs)("div",{className:"hidden lg:grid grid-cols-4 gap-4 px-4 py-2 bg-gray-100 rounded-t-lg font-medium text-sm text-gray-700",children:[(0,b.jsx)(E,{label:"NAME",col:"name",sortState:l,onSort:p}),(0,b.jsx)(E,{label:"CATEGORY",col:"category",sortState:l,onSort:p}),(0,b.jsx)(E,{label:"TYPE",col:"type",sortState:l,onSort:p}),(0,b.jsx)("div",{children:"COST"})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200 rounded-b-lg lg:rounded-t-none rounded-lg",children:d?(0,b.jsx)(F,{}):0===o.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No parts found."}):o.map(a=>(0,b.jsx)(C,{part:a},a.id))})]})}function C({part:a}){let[d,f]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white",children:[(0,b.jsxs)("button",{onClick:()=>f(!d),className:"w-full grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-600",children:a.category||"-"}),(0,b.jsx)("div",{className:"text-gray-600 hidden lg:block",children:a.type||"-"}),(0,b.jsxs)("div",{className:"hidden lg:flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[a.base_en?`EN: ${a.base_en}`:"",a.base_tp?` TP: ${a.base_tp}`:""]}),(0,b.jsx)(e.ChevronDown,{className:(0,h.cn)("w-4 h-4 text-gray-400 transition-transform",d&&"rotate-180")})]})]}),d&&(0,b.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50",children:[a.description&&(0,b.jsx)("p",{className:"text-gray-700 mb-3",children:a.description}),a.mechanic&&(0,b.jsxs)("div",{className:"text-sm mb-2",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Mechanic:"})," ",(0,b.jsx)("span",{className:"text-gray-600",children:a.mechanic})]}),(a.op_1_desc||a.op_2_desc||a.op_3_desc)&&(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsx)("div",{className:"font-medium text-gray-700",children:"Options:"}),a.op_1_desc&&(0,b.jsxs)("div",{className:"pl-4 text-gray-600",children:["1. ",a.op_1_desc,a.op_1_en&&` (EN: ${a.op_1_en})`,a.op_1_tp&&` (TP: ${a.op_1_tp})`]}),a.op_2_desc&&(0,b.jsxs)("div",{className:"pl-4 text-gray-600",children:["2. ",a.op_2_desc,a.op_2_en&&` (EN: ${a.op_2_en})`,a.op_2_tp&&` (TP: ${a.op_2_tp})`]}),a.op_3_desc&&(0,b.jsxs)("div",{className:"pl-4 text-gray-600",children:["3. ",a.op_3_desc,a.op_3_en&&` (EN: ${a.op_3_en})`,a.op_3_tp&&` (TP: ${a.op_3_tp})`]})]})]})]})}function D({value:a,onChange:c,placeholder:e}){return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:a,onChange:a=>c(a.target.value),placeholder:e,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),a&&(0,b.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]})}function E({label:a,col:c,sortState:d,onSort:g}){let h=d.col===c;return(0,b.jsxs)("button",{onClick:()=>g(c),className:"flex items-center gap-1 text-left hover:text-gray-900",children:[a,h&&(1===d.dir?(0,b.jsx)(f.ChevronUp,{className:"w-3 h-3"}):(0,b.jsx)(e.ChevronDown,{className:"w-3 h-3"}))]})}function F(){return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})}function G({message:a}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 mb-4 text-red-500",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),(0,b.jsx)("p",{className:"text-red-500 font-medium",children:a}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Please try again later"})]})}a.s(["default",()=>s],58304)}];

//# sourceMappingURL=src_app_%28main%29_codex_page_tsx_25b9d006._.js.map