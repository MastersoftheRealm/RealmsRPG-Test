module.exports=[68498,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33508),e=a.i(15618),f=a.i(5784),g=a.i(67552),h=a.i(54933),i=a.i(1027),j=a.i(50429),k=a.i(97063),l=a.i(96101);a.i(72500);var m=a.i(18239);a.i(76564);var n=a.i(20930);a.i(50889);var o=a.i(20747),p=a.i(97907);a.i(89606);var q=a.i(66206),r=a.i(77967);a.i(9912);var s=a.i(94318),t=a.i(31903),u=a.i(85693);a.i(39249);var v=a.i(12184);let w=[{value:"basic",label:"Basic Action"},{value:"quick",label:"Quick Action"},{value:"free",label:"Free Action"},{value:"long3",label:"Long Action (3 AP)"},{value:"long4",label:"Long Action (4 AP)"}],x=["none","magic","fire","cold","lightning","physical","necrotic","radiant","psychic","poison","sonic"],y=[4,6,8,10,12],z=["Action","Activation","Area of Effect","Duration","Target","Special","Restriction"],A=new Set(["Power Quick or Free Action","Power Long Action","Power Reaction","Sphere of Effect","Cylinder of Effect","Cone of Effect","Line of Effect","Trail of Effect","Magic Damage","Light Damage","Elemental Damage","Poison or Necrotic Damage","Sonic Damage","Spiritual Damage","Psychic Damage","Physical Damage","Duration (Round)","Duration (Minute)","Duration (Hour)","Duration (Days)","Duration (Permanent)","Focus for Duration","No Harm or Adaptation for Duration","Duration Ends On Activation","Sustain for Duration","Power Range"]),B={Action:{bg:"bg-blue-100",border:"border-blue-300",text:"text-blue-800",hoverBg:"hover:bg-blue-200"},Activation:{bg:"bg-teal-100",border:"border-teal-300",text:"text-teal-800",hoverBg:"hover:bg-teal-200"},"Area of Effect":{bg:"bg-green-100",border:"border-green-300",text:"text-green-800",hoverBg:"hover:bg-green-200"},Duration:{bg:"bg-purple-100",border:"border-purple-300",text:"text-purple-800",hoverBg:"hover:bg-purple-200"},Target:{bg:"bg-orange-100",border:"border-orange-300",text:"text-orange-800",hoverBg:"hover:bg-orange-200"},Special:{bg:"bg-amber-100",border:"border-amber-300",text:"text-amber-800",hoverBg:"hover:bg-amber-200"},Restriction:{bg:"bg-red-100",border:"border-red-300",text:"text-red-800",hoverBg:"hover:bg-red-200"}};function C({selectedPart:a,index:e,onRemove:h,onUpdate:i,allParts:j}){let[k,l]=(0,c.useState)(!0),{part:m}=a,n=(0,c.useMemo)(()=>["any",...Array.from(new Set(j.map(a=>a.category))).sort()],[j]),o=(0,c.useMemo)(()=>{let b=a.selectedCategory;return b&&"any"!==b?j.filter(a=>a.category===b).sort((a,b)=>a.name.localeCompare(b.name)):j.sort((a,b)=>a.name.localeCompare(b.name))},[j,a.selectedCategory]),p=a=>{let b=m[`op_${a}_desc`],c=m[`op_${a}_en`],d=m[`op_${a}_tp`];return b&&""!==b.trim()||void 0!==c&&0!==c||void 0!==d&&0!==d},q=(m.base_en||0)+(m.op_1_en||0)*a.op_1_lvl+(m.op_2_en||0)*a.op_2_lvl+(m.op_3_en||0)*a.op_3_lvl,r=(m.base_tp||0)+(m.op_1_tp||0)*a.op_1_lvl+(m.op_2_tp||0)*a.op_2_lvl+(m.op_3_tp||0)*a.op_3_lvl;return(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>l(!k),className:"text-gray-500 hover:text-gray-700",children:k?(0,b.jsx)(g.ChevronUp,{className:"w-5 h-5"}):(0,b.jsx)(f.ChevronDown,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:m.name}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["EN: ",q.toFixed(1)," | TP: ",Math.floor(r)]})]}),(0,b.jsx)("button",{type:"button",onClick:h,className:"text-gray-400 hover:text-red-500",children:(0,b.jsx)(d.X,{className:"w-5 h-5"})})]}),k&&(0,b.jsxs)("div",{className:"px-4 py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsx)("select",{value:a.selectedCategory,onChange:a=>i({selectedCategory:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:n.map(a=>(0,b.jsx)("option",{value:a,children:"any"===a?"All Categories":a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Part"}),(0,b.jsx)("select",{value:o.findIndex(a=>a.id===m.id),onChange:a=>{let b=o[parseInt(a.target.value)];b&&i({part:b,op_1_lvl:0,op_2_lvl:0,op_3_lvl:0})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:o.map((a,c)=>(0,b.jsx)("option",{value:c,children:a.name},a.id))})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:m.description}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:["Base Energy: ",(0,b.jsx)("strong",{children:m.base_en})]}),(0,b.jsxs)("span",{className:"text-gray-600",children:["Base TP: ",(0,b.jsx)("strong",{children:m.base_tp})]})]}),(p(1)||p(2)||p(3))&&(0,b.jsxs)("div",{className:"space-y-3 pt-2 border-t border-gray-100",children:[p(1)&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Option 1:"," ",(0,b.jsxs)("span",{className:"text-gray-500",children:["EN ",(m.op_1_en||0)>=0?"+":"",m.op_1_en||0,", TP"," ",(m.op_1_tp||0)>=0?"+":"",m.op_1_tp||0]})]}),(0,b.jsx)(u.NumberStepper,{value:a.op_1_lvl,onChange:a=>i({op_1_lvl:a}),label:"Level:"})]}),m.op_1_desc&&(0,b.jsx)("p",{className:"text-sm text-gray-600",children:m.op_1_desc})]}),p(2)&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Option 2:"," ",(0,b.jsxs)("span",{className:"text-gray-500",children:["EN ",(m.op_2_en||0)>=0?"+":"",m.op_2_en||0,", TP"," ",(m.op_2_tp||0)>=0?"+":"",m.op_2_tp||0]})]}),(0,b.jsx)(u.NumberStepper,{value:a.op_2_lvl,onChange:a=>i({op_2_lvl:a}),label:"Level:"})]}),m.op_2_desc&&(0,b.jsx)("p",{className:"text-sm text-gray-600",children:m.op_2_desc})]}),p(3)&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Option 3:"," ",(0,b.jsxs)("span",{className:"text-gray-500",children:["EN ",(m.op_3_en||0)>=0?"+":"",m.op_3_en||0,", TP"," ",(m.op_3_tp||0)>=0?"+":"",m.op_3_tp||0]})]}),(0,b.jsx)(u.NumberStepper,{value:a.op_3_lvl,onChange:a=>i({op_3_lvl:a}),label:"Level:"})]}),m.op_3_desc&&(0,b.jsx)("p",{className:"text-sm text-gray-600",children:m.op_3_desc})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.applyDuration,onChange:a=>i({applyDuration:a.target.checked}),className:"rounded border-gray-300"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Apply to Duration"})]})]})]})}function D({part:a,onAdd:d}){let[e,f]=(0,c.useState)(!1),g=B[a.category]||B.Special;return(0,b.jsxs)("div",{className:(0,m.cn)("rounded-lg border px-3 py-2 cursor-pointer transition-all",g.bg,g.border,g.hoverBg),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("span",{className:(0,m.cn)("text-sm font-medium",g.text),onClick:()=>f(!e),children:a.name}),(0,b.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation(),d()},className:(0,m.cn)("w-6 h-6 rounded-full flex items-center justify-center text-white font-bold text-sm","bg-primary-600 hover:bg-primary-700"),children:"+"})]}),e&&(0,b.jsxs)("div",{className:"mt-2 pt-2 border-t border-current/20 text-sm space-y-1",children:[(0,b.jsx)("p",{className:g.text,children:a.description||"No description available."}),a.op_1_desc&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Option 1:"})," ",a.op_1_desc]}),a.op_2_desc&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Option 2:"})," ",a.op_2_desc]}),a.op_3_desc&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Option 3:"})," ",a.op_3_desc]})]})]})}function E({advPart:a,index:d,onRemove:e,onUpdate:f}){let[g,h]=(0,c.useState)(!1),{part:i}=a,j=B[i.category]||B.Special,k=a=>{let b=i[`op_${a}_desc`];return b&&""!==b.trim()};return(0,b.jsxs)("div",{className:(0,m.cn)("rounded-lg border px-3 py-2 transition-all",j.bg,j.border),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("span",{className:(0,m.cn)("text-sm font-medium cursor-pointer",j.text),onClick:()=>h(!g),children:[i.name,(a.op_1_lvl>0||a.op_2_lvl>0||a.op_3_lvl>0)&&(0,b.jsxs)("span",{className:"ml-2 text-xs opacity-75",children:["(",a.op_1_lvl,"/",a.op_2_lvl,"/",a.op_3_lvl,")"]})]}),(0,b.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation(),e()},className:"w-6 h-6 rounded-full flex items-center justify-center text-white font-bold text-sm bg-red-500 hover:bg-red-600",children:"×"})]}),g&&(0,b.jsxs)("div",{className:"mt-2 pt-2 border-t border-current/20 text-sm space-y-2",children:[(0,b.jsx)("p",{className:j.text,children:i.description}),k(1)&&(0,b.jsxs)("div",{className:"bg-white/50 rounded p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Option 1: EN ",(i.op_1_en||0)>=0?"+":"",i.op_1_en||0,", TP ",(i.op_1_tp||0)>=0?"+":"",i.op_1_tp||0]}),(0,b.jsx)(u.NumberStepper,{value:a.op_1_lvl,onChange:a=>f({op_1_lvl:a}),label:""})]}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:i.op_1_desc})]}),k(2)&&(0,b.jsxs)("div",{className:"bg-white/50 rounded p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Option 2: EN ",(i.op_2_en||0)>=0?"+":"",i.op_2_en||0,", TP ",(i.op_2_tp||0)>=0?"+":"",i.op_2_tp||0]}),(0,b.jsx)(u.NumberStepper,{value:a.op_2_lvl,onChange:a=>f({op_2_lvl:a}),label:""})]}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:i.op_2_desc})]}),k(3)&&(0,b.jsxs)("div",{className:"bg-white/50 rounded p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Option 3: EN ",(i.op_3_en||0)>=0?"+":"",i.op_3_en||0,", TP ",(i.op_3_tp||0)>=0?"+":"",i.op_3_tp||0]}),(0,b.jsx)(u.NumberStepper,{value:a.op_3_lvl,onChange:a=>f({op_3_lvl:a}),label:""})]}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:i.op_3_desc})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.applyDuration,onChange:a=>f({applyDuration:a.target.checked}),className:"rounded border-gray-300"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Apply Duration"})]})]})]})}function F({powerParts:a,selectedAdvancedParts:d,onAdd:e,onRemove:h,onUpdate:i}){let[j,k]=(0,c.useState)(!1),l=(0,c.useCallback)(b=>a.filter(a=>a.mechanic&&a.category===b&&!A.has(a.name)),[a]);return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>k(!j),className:"w-full px-6 py-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[j?(0,b.jsx)(g.ChevronUp,{className:"w-5 h-5 text-gray-500"}):(0,b.jsx)(f.ChevronDown,{className:"w-5 h-5 text-gray-500"}),(0,b.jsx)("span",{className:"font-bold text-gray-900",children:"Advanced Power Mechanics"})]}),!j&&d.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[d.slice(0,5).map((a,c)=>{let d=B[a.part.category]||B.Special;return(0,b.jsx)("span",{className:(0,m.cn)("px-2 py-0.5 rounded text-xs font-medium",d.bg,d.text),children:a.part.name},c)}),d.length>5&&(0,b.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-gray-200 text-gray-600",children:["+",d.length-5," more"]})]})]}),j&&(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[d.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"Added Advanced Mechanics"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((a,c)=>(0,b.jsx)(E,{advPart:a,index:c,onRemove:()=>h(c),onUpdate:a=>i(c,a)},c))})]}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:z.map(a=>{let c=l(a);return 0===c.length?null:(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-gray-700 mb-2",children:a}),(0,b.jsx)("div",{className:"space-y-2",children:c.map(a=>(0,b.jsx)(D,{part:a,onAdd:()=>e(a)},a.id))})]},a)})})]})]})}function G(){let{user:a}=(0,q.useAuthStore)(),[d,f]=(0,c.useState)(""),[g,n]=(0,c.useState)(""),[A,B]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[G,H]=(0,c.useState)("basic"),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)({amount:0,size:6,type:"none"}),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(!1),{data:S=[],isLoading:T,error:U}=(0,o.usePowerParts)(),{data:V,isLoading:W,error:X}=(0,p.useUserPowers)(),Y=(0,c.useMemo)(()=>[...A.map(a=>({part:a.part,op_1_lvl:a.op_1_lvl,op_2_lvl:a.op_2_lvl,op_3_lvl:a.op_3_lvl,applyDuration:a.applyDuration})),...D.map(a=>({part:a.part,op_1_lvl:a.op_1_lvl,op_2_lvl:a.op_2_lvl,op_3_lvl:a.op_3_lvl,applyDuration:a.applyDuration}))],[A,D]),Z=(0,c.useMemo)(()=>(0,v.calculatePowerCosts)(Y,S),[Y,S]),$=(0,c.useMemo)(()=>(0,v.computeActionTypeFromSelection)(G,I),[G,I]),_=(0,c.useMemo)(()=>(0,v.deriveRange)(Y,S),[Y,S]),aa=(0,c.useMemo)(()=>(0,v.deriveArea)(Y,S),[Y,S]),ab=(0,c.useMemo)(()=>(0,v.deriveDuration)(Y,S),[Y,S]),ac=(0,c.useCallback)(()=>{0!==S.length&&B(a=>[...a,{part:S[0],op_1_lvl:0,op_2_lvl:0,op_3_lvl:0,applyDuration:!1,selectedCategory:"any"}])},[S]),ad=(0,c.useCallback)(a=>{B(b=>b.filter((b,c)=>c!==a))},[]),ae=(0,c.useCallback)((a,b)=>{B(c=>c.map((c,d)=>d===a?{...c,...b}:c))},[]),af=(0,c.useCallback)(a=>{D.some(b=>b.part.id===a.id)||E(b=>[...b,{part:a,op_1_lvl:0,op_2_lvl:0,op_3_lvl:0,applyDuration:!1}])},[D]),ag=(0,c.useCallback)(a=>{E(b=>b.filter((b,c)=>c!==a))},[]),ah=(0,c.useCallback)((a,b)=>{E(c=>c.map((c,d)=>d===a?{...c,...b}:c))},[]),ai=async()=>{if(!d.trim())return void P({type:"error",text:"Please enter a power name"});if(!a)return void P({type:"error",text:"You must be logged in to save"});N(!0),P(null);try{let a=(0,s.httpsCallable)(r.functions,"savePowerToLibrary"),b=[...A.map(a=>({id:Number(a.part.id),name:a.part.name,op_1_lvl:a.op_1_lvl,op_2_lvl:a.op_2_lvl,op_3_lvl:a.op_3_lvl,applyDuration:a.applyDuration})),...D.map(a=>({id:Number(a.part.id),name:a.part.name,op_1_lvl:a.op_1_lvl,op_2_lvl:a.op_2_lvl,op_3_lvl:a.op_3_lvl,applyDuration:a.applyDuration,isAdvanced:!0}))],c="none"!==K.type&&K.amount>0?[{amount:K.amount,size:K.size,type:K.type}]:[];await a({powerName:d.trim(),powerDescription:g.trim(),parts:b,damage:c}),P({type:"success",text:"Power saved successfully!"}),setTimeout(()=>{f(""),n(""),B([]),E([]),L({amount:0,size:6,type:"none"}),P(null)},2e3)}catch(a){console.error("Error saving power:",a),P({type:"error",text:`Failed to save: ${a.message}`})}finally{N(!1)}},aj=(0,c.useCallback)(a=>{f(a.name||""),n(a.description||"");let b=a.parts||a.powerParts||[],c=[],d=[];for(let a of b){let b=S.find(b=>b.id===String(a.id)||b.name===a.name);if(b){let e={part:b,op_1_lvl:a.op_1_lvl||0,op_2_lvl:a.op_2_lvl||0,op_3_lvl:a.op_3_lvl||0,applyDuration:a.applyDuration||!1};a.isAdvanced||b.mechanic&&z.includes(b.category)?d.push(e):c.push({...e,selectedCategory:b.category||"any"})}}B(c),E(d);let e=[];if(Array.isArray(a.damage)?e=a.damage:a.damage&&"object"==typeof a.damage&&(e=[{amount:a.damage.dice||a.damage.amount||0,size:a.damage.sides||a.damage.size||6,type:a.damage.type||"none"}]),e.length>0){let a=e[0];L({amount:a.amount||0,size:a.size||6,type:a.type||"none"})}else L({amount:0,size:6,type:"none"});P({type:"success",text:"Power loaded successfully!"}),setTimeout(()=>P(null),2e3)},[S]);return T?(0,b.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,b.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):U?(0,b.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:(0,b.jsxs)("p",{className:"text-red-700",children:["Failed to load power parts: ",U.message]})})}):(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[(0,b.jsx)(h.Wand2,{className:"w-8 h-8 text-primary-600"}),"Power Creator"]}),(0,b.jsx)("p",{className:"text-gray-600",children:"Design custom powers by combining power parts. Each part contributes to the total energy cost and training point requirements."})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[(0,b.jsx)(l.FolderOpen,{className:"w-5 h-5"}),"Load from Library"]})]}),(0,b.jsx)(t.LoadFromLibraryModal,{isOpen:Q,onClose:()=>R(!1),onSelect:aj,items:V,isLoading:W,error:X,itemType:"power",title:"Load Power from Library"}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Power Name *"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>f(a.target.value),placeholder:"Enter power name...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:g,onChange:a=>n(a.target.value),placeholder:"Describe what your power does...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Action Type"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsx)("select",{value:G,onChange:a=>H(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:w.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:I,onChange:a=>J(a.target.checked),className:"rounded border-gray-300"}),(0,b.jsx)("span",{className:"text-sm",children:"Reaction"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["Power Parts (",A.length,")"]}),(0,b.jsxs)("button",{type:"button",onClick:ac,className:"flex items-center gap-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),"Add Part"]})]}),0===A.length?(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(k.Info,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:'No parts added yet. Click "Add Part" to begin building your power.'})]}):(0,b.jsx)("div",{className:"space-y-4",children:A.map((a,c)=>(0,b.jsx)(C,{selectedPart:a,index:c,onRemove:()=>ad(c),onUpdate:a=>ae(c,a),allParts:S},c))})]}),(0,b.jsx)(F,{powerParts:S,selectedAdvancedParts:D,onAdd:af,onRemove:ag,onUpdate:ah}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Damage (Optional)"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsx)(u.NumberStepper,{value:K.amount,onChange:a=>L(b=>({...b,amount:a})),label:"Dice:",min:0,max:20}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"font-bold text-lg",children:"d"}),(0,b.jsx)("select",{value:K.size,onChange:a=>L(b=>({...b,size:parseInt(a.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg",children:y.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsx)("select",{value:K.type,onChange:a=>L(b=>({...b,type:a.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg",children:x.map(a=>(0,b.jsx)("option",{value:a,children:"none"===a?"No damage":a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),"none"!==K.type&&K.amount>0&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Damage: ",(0,b.jsxs)("strong",{children:[K.amount,"d",K.size," ",K.type]})]})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Power Summary"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,b.jsx)(i.Zap,{className:"w-6 h-6 mx-auto text-blue-600 mb-1"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:Z.totalEnergy}),(0,b.jsx)("div",{className:"text-xs text-blue-600",children:"Energy Cost"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,b.jsx)(j.Target,{className:"w-6 h-6 mx-auto text-purple-600 mb-1"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Z.totalTP}),(0,b.jsx)("div",{className:"text-xs text-purple-600",children:"Training Points"})]})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Action:"}),(0,b.jsx)("span",{className:"font-medium",children:$})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Range:"}),(0,b.jsx)("span",{className:"font-medium",children:_})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Area:"}),(0,b.jsx)("span",{className:"font-medium",children:aa})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,b.jsx)("span",{className:"font-medium",children:ab})]})]}),Z.tpSources.length>0&&(0,b.jsxs)("div",{className:"border-t border-gray-100 pt-4 mb-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"TP Breakdown"}),(0,b.jsx)("ul",{className:"text-xs text-gray-600 space-y-1",children:Z.tpSources.map((a,c)=>(0,b.jsxs)("li",{children:["• ",a]},c))})]}),O&&(0,b.jsx)("div",{className:(0,m.cn)("mb-4 p-3 rounded-lg text-sm","success"===O.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:O.text}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{type:"button",onClick:ai,disabled:M||!d.trim(),className:(0,m.cn)("w-full py-3 rounded-xl font-bold transition-colors",M||!d.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:M?"Saving...":"Save to Library"}),(0,b.jsx)("button",{type:"button",onClick:()=>{f(""),n(""),B([]),E([]),H("basic"),J(!1),L({amount:0,size:6,type:"none"}),P(null)},className:"w-full py-2 rounded-xl font-medium text-gray-600 hover:bg-gray-100 transition-colors",children:"Reset"})]})]})})]})]})}function H(){return(0,b.jsx)(n.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,b.jsx)(G,{})})})}a.s(["default",()=>H],68498)}];

//# sourceMappingURL=src_app_%28main%29_power-creator_page_tsx_5dcc78cb._.js.map