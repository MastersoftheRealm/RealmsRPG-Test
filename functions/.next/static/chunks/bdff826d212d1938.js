(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42952,e=>{"use strict";var s=e.i(43476),a=e.i(71645);e.i(36180);var t=e.i(98925),l=e.i(6245);e.i(79121);var i=e.i(49838);e.i(84004);var n=e.i(23495),r=e.i(82943);e.i(64485);var d=e.i(46775),c=e.i(66923),m=e.i(51206),o=e.i(92006),x=e.i(15324),h=e.i(3504),u=e.i(40437);let p=["Beast","Humanoid","Undead","Construct","Elemental","Aberration","Dragon","Fiend","Celestial","Fey","Plant","Ooze","Other"],g=[{value:"tiny",label:"Tiny",modifier:-2},{value:"small",label:"Small",modifier:-1},{value:"medium",label:"Medium",modifier:0},{value:"large",label:"Large",modifier:1},{value:"huge",label:"Huge",modifier:2},{value:"gargantuan",label:"Gargantuan",modifier:3}],b=[{value:.25,label:"1/4"},{value:.5,label:"1/2"},{value:.75,label:"3/4"},...Array.from({length:30},(e,s)=>({value:s+1,label:String(s+1)}))],y=["Bludgeoning","Piercing","Slashing","Magic","Fire","Ice","Lightning","Spiritual","Sonic","Poison","Necrotic","Acid","Psychic"],j=[{value:"Darkvision",label:"Darkvision (6 spaces)"},{value:"Darkvision II",label:"Darkvision II (12 spaces)"},{value:"Darkvision III",label:"Darkvision III (24 spaces)"},{value:"Blindsense",label:"Blindsense (3 spaces)"},{value:"Blindsense II",label:"Blindsense II (6 spaces)"},{value:"Blindsense III",label:"Blindsense III (12 spaces)"},{value:"Amphibious",label:"Amphibious"},{value:"All-Surface Climber",label:"All-Surface Climber"},{value:"Telepathy",label:"Telepathy (12 spaces)"},{value:"Telepathy II",label:"Telepathy II (48 spaces)"},{value:"Waterbreathing",label:"Waterbreathing"},{value:"Unrestrained Movement",label:"Unrestrained Movement"}],v=[{value:"Fly Half",label:"Flying (Half Speed)"},{value:"Fly",label:"Flying II (Full Speed)"},{value:"Burrow",label:"Burrow (Half Speed)"},{value:"Burrow II",label:"Burrow II (Full Speed)"},{value:"Jump",label:"Jump (Long 3, High 2)"},{value:"Jump II",label:"Jump II (Long 4, High 3)"},{value:"Jump III",label:"Jump III (Long 5, High 4)"},{value:"Speedy",label:"Speedy (+2 spaces)"},{value:"Speedy II",label:"Speedy II (+4 spaces)"},{value:"Speedy III",label:"Speedy III (+6 spaces)"},{value:"Slow",label:"Slow (-2 spaces)"},{value:"Hover",label:"Hover"}],N=["Bleeding","Blinded","Charmed","Restrained","Dazed","Deafened","Dying","Exhausted","Exposed","Faint","Frightened","Grappled","Hidden","Immobile","Invisible","Prone","Resilient","Slowed","Stunned","Susceptible","Terminal","Weakened"],f=["Acrobatics","Animal Handling","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Sleight of Hand","Stealth","Survival"],w={name:"",level:1,type:"Humanoid",size:"medium",description:"",abilities:{strength:0,vitality:0,agility:0,acuity:0,intelligence:0,charisma:0},defenses:{might:0,fortitude:0,reflex:0,discernment:0,mentalFortitude:0,resolve:0},hitPoints:0,energyPoints:0,powerProficiency:2,martialProficiency:0,resistances:[],weaknesses:[],immunities:[],conditionImmunities:[],senses:[],movementTypes:[],languages:[],skills:[],powers:[],techniques:[],feats:[],armaments:[]};function k({items:e,onRemove:a,color:t="bg-gray-100"}){return 0===e.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic",children:"None"}):(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map(e=>(0,s.jsxs)("span",{className:(0,i.cn)("px-2 py-1 rounded text-sm flex items-center gap-1",t),children:[e,(0,s.jsx)("button",{onClick:()=>a(e),className:"text-gray-500 hover:text-red-500",children:"×"})]},e))})}function C({options:e,selectedItems:t,onAdd:l,placeholder:i}){let[n,r]=(0,a.useState)(""),d=e.map(e=>"string"==typeof e?{value:e,label:e}:e).filter(e=>!t.includes(e.value));return(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm",children:[(0,s.jsx)("option",{value:"",children:i}),d.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsx)("button",{onClick:()=>{n&&(l(n),r(""))},disabled:!n,className:"px-3 py-1.5 bg-primary-600 text-white rounded text-sm disabled:opacity-50",children:"Add"})]})}function I({name:e,baseValue:a,bonusValue:t,onChange:l}){return(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1 uppercase",children:e}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:10+a+t}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)("button",{onClick:()=>l(Math.max(0,t-1)),className:"w-6 h-6 rounded bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm",children:"−"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 w-8",children:["+",t]}),(0,s.jsx)("button",{onClick:()=>l(t+1),className:"w-6 h-6 rounded bg-primary-600 text-white hover:bg-primary-700 flex items-center justify-center text-sm",children:"+"})]})]})}function P({isOpen:e,onClose:a,onSelect:t}){let{data:l=[]}=(0,d.useUserPowers)(),{data:i=[]}=(0,c.usePowerParts)();return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Select a Power"}),(0,s.jsx)("button",{onClick:a,className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===l.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No powers in your library"}):(0,s.jsx)("div",{className:"space-y-2",children:l.map(e=>{let l=(0,o.derivePowerDisplay)({name:e.name,description:e.description,parts:e.parts||[],damage:e.damage},i),n=(0,o.formatPowerDamage)(e.damage);return(0,s.jsxs)("button",{onClick:()=>{t({id:e.docId,name:e.name,energy:l.energy,action:l.actionType,duration:l.duration,range:l.range,area:l.area,damage:n}),a()},className:"w-full p-3 text-left bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["EN: ",l.energy," | ",l.actionType," | ",l.range]})]},e.docId)})})})]})}):null}function S({isOpen:e,onClose:a,onSelect:t}){let{data:l=[]}=(0,d.useUserTechniques)(),{data:i=[]}=(0,c.useTechniqueParts)();return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Select a Technique"}),(0,s.jsx)("button",{onClick:a,className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===l.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No techniques in your library"}):(0,s.jsx)("div",{className:"space-y-2",children:l.map(e=>{let l=(0,x.deriveTechniqueDisplay)({name:e.name,description:e.description,parts:e.parts||[],damage:e.damage?.[0],weapon:e.weapon},i);return(0,s.jsxs)("button",{onClick:()=>{t({id:e.docId,name:e.name,energy:l.energy,tp:l.tp,action:l.actionType,weapon:l.weaponName,damage:l.damageStr}),a()},className:"w-full p-3 text-left bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["EN: ",l.energy," | TP: ",l.tp," | ",l.actionType]})]},e.docId)})})})]})}):null}function A({isOpen:e,onClose:t,onSelect:l,selectedFeats:i}){let{data:n=[]}=(0,m.useRTDBFeats)(),[r,d]=(0,a.useState)("");if(!e)return null;let c=new Set(i.map(e=>e.id)),o=n.filter(e=>!c.has(e.id)&&(e.name?.toLowerCase().includes(r.toLowerCase())||e.description?.toLowerCase().includes(r.toLowerCase())));return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Select a Feat"}),(0,s.jsx)("button",{onClick:t,className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsx)("input",{type:"text",value:r,onChange:e=>d(e.target.value),placeholder:"Search feats...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===o.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No feats found"}):(0,s.jsx)("div",{className:"space-y-2",children:o.slice(0,50).map(e=>(0,s.jsxs)("button",{onClick:()=>{l({id:e.id,name:e.name,description:e.description,points:1}),t()},className:"w-full p-3 text-left bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),e.description&&(0,s.jsx)("div",{className:"text-sm text-gray-500 line-clamp-2",children:e.description})]},e.id))})})]})})}function R({isOpen:e,onClose:a,onSelect:t,selectedArmaments:l}){let{data:i=[]}=(0,d.useUserItems)(),{data:n=[]}=(0,c.useItemProperties)();if(!e)return null;let r=new Set(l.map(e=>e.id)),m=i.filter(e=>!r.has(e.docId));return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Select an Armament"}),(0,s.jsx)("button",{onClick:a,className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===m.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No items in your library"}):(0,s.jsx)("div",{className:"space-y-2",children:m.map(e=>{let l=(e.properties||[]).map(e=>({name:e})),i={name:e.name,description:e.description,armamentType:{weapon:"Weapon",armor:"Armor",equipment:"Accessory"}[e.type]||"Weapon",properties:l},r=(0,h.deriveItemDisplay)(i,n);return(0,s.jsxs)("button",{onClick:()=>{t({id:e.docId,name:e.name,type:e.type||"equipment",tp:r.totalTP||0,currency:r.currencyCost||0,rarity:r.rarity||"Common"}),a()},className:"w-full p-3 text-left bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.type," | TP: ",r.totalTP||0," | ",r.currencyCost||0,"gp | ",r.rarity||"Common"]})]},e.docId)})})})]})})}function T({isOpen:e,onClose:a,onSelect:t}){let{data:l=[]}=(0,d.useUserCreatures)();return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Load Creature from Library"}),(0,s.jsx)("button",{onClick:a,className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===l.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No creatures in your library"}):(0,s.jsx)("div",{className:"space-y-2",children:l.map(e=>(0,s.jsxs)("button",{onClick:()=>{t({name:e.name||"",level:e.level||1,type:e.type||"Humanoid",size:e.size||"medium",description:e.description||"",abilities:e.abilities||w.abilities,defenses:e.defenses||w.defenses,hitPoints:e.hitPoints||0,energyPoints:e.energyPoints||0,powerProficiency:e.powerProficiency||0,martialProficiency:e.martialProficiency||0,resistances:e.resistances||[],weaknesses:e.weaknesses||[],immunities:e.immunities||[],conditionImmunities:e.conditionImmunities||[],senses:e.senses||[],movementTypes:e.movementTypes||[],languages:e.languages||[],skills:e.skills||[],powers:e.powers||[],techniques:e.techniques||[],feats:e.feats||[],armaments:e.armaments||[]}),a()},className:"w-full p-3 text-left bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-200",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Level ",e.level," ",e.type||"Creature"]})]},e.docId))})})]})}):null}function D(){let{user:e}=(0,r.useAuthStore)(),[n,d]=(0,a.useState)(w),[c,m]=(0,a.useState)(!1),[o,x]=(0,a.useState)(!1),[h,D]=(0,a.useState)(!1),[M,F]=(0,a.useState)(!1),[H,q]=(0,a.useState)(!1),[E,L]=(0,a.useState)(!1),[z,B]=(0,a.useState)(""),O=(0,a.useCallback)(e=>{d(s=>({...s,...e}))},[]),V=(0,a.useCallback)((e,s)=>{d(a=>({...a,abilities:{...a.abilities,[e]:s}}))},[]),U=(0,a.useCallback)((e,s)=>{d(a=>({...a,defenses:{...a.defenses,[e]:s}}))},[]),W=(0,a.useCallback)((e,s)=>{d(a=>({...a,[e]:[...a[e],s]}))},[]),J=(0,a.useCallback)((e,s)=>{d(a=>({...a,[e]:a[e].filter(e=>e!==s)}))},[]),K=(0,a.useMemo)(()=>{let e=n.level,s=n.abilities,a=Math.max(...Object.entries(s).filter(([e])=>"vitality"!==e).map(([,e])=>e),0),t=(0,u.calculateCreatureTrainingPoints)(e,a),l=(0,u.calculateCreatureCurrency)(e),i=(0,u.calculateHealthEnergyPool)(e,"CREATURE",!0),r=(0,u.calculateProficiency)(e,!0),d=(0,u.calculateAbilityPoints)(e,!0),c=(0,u.calculateSkillPoints)(e,!0),m=8+s.vitality*Math.max(1,e)+n.hitPoints,o=n.energyPoints,x=g.find(e=>e.value===n.size),h=x?.modifier||0,p=6+Math.ceil(s.agility/2)+h,b=10+s.agility,y=Object.values(s).reduce((e,s)=>e+Math.max(0,s),0);return{trainingPoints:t,currency:l,hePool:i,proficiency:r,abilityPoints:d,skillPoints:c,maxHealth:m,maxEnergy:o,speed:p,evasion:b,abilitySpent:y,abilityRemaining:d-y,heRemaining:i-(n.hitPoints+n.energyPoints),skillRemaining:c-n.skills.reduce((e,s)=>e+s.value+ +!!s.proficient,0)-Object.values(n.defenses).reduce((e,s)=>e+2*s,0)}},[n]),G=async()=>{if(!e)return void alert("Please log in to save creatures");if(!n.name.trim())return void alert("Please enter a creature name");m(!0);try{let s=(0,t.collection)(l.db,"users",e.uid,"creatureLibrary"),a=(0,t.query)(s,(0,t.where)("name","==",n.name)),i=await (0,t.getDocs)(a),r={...n,updatedAt:new Date};if(i.empty)await (0,t.addDoc)(s,{...r,createdAt:new Date});else{let s=(0,t.doc)(l.db,"users",e.uid,"creatureLibrary",i.docs[0].id);await (0,t.setDoc)(s,r)}alert("Creature saved!")}catch(e){console.error("Error saving creature:",e),alert("Failed to save creature")}finally{m(!1)}},Q=()=>{z.trim()&&!n.languages.includes(z.trim())&&(W("languages",z.trim()),B(""))},X=(e,s)=>{d(a=>({...a,skills:a.skills.map(a=>a.name===e?{...a,...s}:a)}))};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Creature Creator"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Design custom creatures, monsters, and NPCs"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>L(!0),className:"px-4 py-2 rounded-lg border border-primary-600 text-primary-600 hover:bg-primary-50",children:"Load Creature"}),(0,s.jsx)("button",{onClick:()=>{confirm("Reset all creature data?")&&d(w)},className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:"Reset"}),(0,s.jsx)("button",{onClick:G,disabled:c,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:c?"Saving...":"Save Creature"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Ability Points"}),(0,s.jsx)("div",{className:(0,i.cn)("text-xl font-bold",K.abilityRemaining<0?"text-red-600":"text-blue-600"),children:K.abilityRemaining})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"H/E Points"}),(0,s.jsx)("div",{className:(0,i.cn)("text-xl font-bold",K.heRemaining<0?"text-red-600":"text-blue-600"),children:K.heRemaining})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Skill Points"}),(0,s.jsx)("div",{className:(0,i.cn)("text-xl font-bold",K.skillRemaining<0?"text-red-600":"text-blue-600"),children:K.skillRemaining})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Training Points"}),(0,s.jsx)("div",{className:"text-xl font-bold text-amber-600",children:K.trainingPoints})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Loot Value"}),(0,s.jsxs)("div",{className:"text-xl font-bold text-amber-600",children:[K.currency," gp"]})]})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,s.jsx)("input",{type:"text",value:n.name,onChange:e=>O({name:e.target.value}),placeholder:"Creature name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),(0,s.jsx)("select",{value:n.level,onChange:e=>O({level:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:b.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,s.jsx)("select",{value:n.type,onChange:e=>O({type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:p.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),(0,s.jsx)("select",{value:n.size,onChange:e=>O({size:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:g.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Power Prof"}),(0,s.jsx)("input",{type:"number",value:n.powerProficiency,onChange:e=>O({powerProficiency:Math.max(0,parseInt(e.target.value)||0)}),min:0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Martial Prof"}),(0,s.jsx)("input",{type:"number",value:n.martialProficiency,onChange:e=>O({martialProficiency:Math.max(0,parseInt(e.target.value)||0)}),min:0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Ability Scores"}),(0,s.jsxs)("span",{className:(0,i.cn)("text-sm font-medium",K.abilityRemaining<0?"text-red-600":"text-gray-500"),children:["Remaining: ",K.abilityRemaining]})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:Object.keys(n.abilities).map(e=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:e}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>V(e,Math.max(-4,n.abilities[e]-1)),className:"w-8 h-8 rounded bg-gray-200 hover:bg-gray-300 flex items-center justify-center font-bold",children:"−"}),(0,s.jsxs)("span",{className:(0,i.cn)("w-10 text-center text-xl font-bold",n.abilities[e]>0?"text-green-600":n.abilities[e]<0?"text-red-600":"text-gray-600"),children:[n.abilities[e]>=0?"+":"",n.abilities[e]]}),(0,s.jsx)("button",{onClick:()=>V(e,Math.min(7,n.abilities[e]+1)),className:"w-8 h-8 rounded bg-primary-600 text-white hover:bg-primary-700 flex items-center justify-center font-bold",children:"+"})]})]},e))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Defenses"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[(0,s.jsx)(I,{name:"Might",baseValue:n.abilities.strength,bonusValue:n.defenses.might,onChange:e=>U("might",e)}),(0,s.jsx)(I,{name:"Fortitude",baseValue:n.abilities.vitality,bonusValue:n.defenses.fortitude,onChange:e=>U("fortitude",e)}),(0,s.jsx)(I,{name:"Reflex",baseValue:n.abilities.agility,bonusValue:n.defenses.reflex,onChange:e=>U("reflex",e)}),(0,s.jsx)(I,{name:"Discernment",baseValue:n.abilities.acuity,bonusValue:n.defenses.discernment,onChange:e=>U("discernment",e)}),(0,s.jsx)(I,{name:"Mental Fort",baseValue:n.abilities.intelligence,bonusValue:n.defenses.mentalFortitude,onChange:e=>U("mentalFortitude",e)}),(0,s.jsx)(I,{name:"Resolve",baseValue:n.abilities.charisma,bonusValue:n.defenses.resolve,onChange:e=>U("resolve",e)})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Health & Energy"}),(0,s.jsxs)("span",{className:(0,i.cn)("text-sm font-medium",K.heRemaining<0?"text-red-600":"text-gray-500"),children:["Pool: ",K.hePool," | Remaining: ",K.heRemaining]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hit Points (+",n.hitPoints," → Max: ",K.maxHealth,")"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>O({hitPoints:Math.max(0,n.hitPoints-1)}),className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300 font-bold",children:"−"}),(0,s.jsx)("input",{type:"number",value:n.hitPoints,onChange:e=>O({hitPoints:Math.max(0,parseInt(e.target.value)||0)}),min:0,className:"w-20 text-center px-3 py-2 border border-gray-300 rounded-lg"}),(0,s.jsx)("button",{onClick:()=>O({hitPoints:n.hitPoints+1}),className:"px-3 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 font-bold",children:"+"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Energy Points (+",n.energyPoints," → Max: ",K.maxEnergy,")"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>O({energyPoints:Math.max(0,n.energyPoints-1)}),className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300 font-bold",children:"−"}),(0,s.jsx)("input",{type:"number",value:n.energyPoints,onChange:e=>O({energyPoints:Math.max(0,parseInt(e.target.value)||0)}),min:0,className:"w-20 text-center px-3 py-2 border border-gray-300 rounded-lg"}),(0,s.jsx)("button",{onClick:()=>O({energyPoints:n.energyPoints+1}),className:"px-3 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 font-bold",children:"+"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Damage Modifiers"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resistances"}),(0,s.jsx)(k,{items:n.resistances,onRemove:e=>J("resistances",e),color:"bg-green-100 text-green-800"}),(0,s.jsx)(C,{options:y,selectedItems:[...n.resistances,...n.immunities],onAdd:e=>W("resistances",e),placeholder:"Add resistance..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weaknesses"}),(0,s.jsx)(k,{items:n.weaknesses,onRemove:e=>J("weaknesses",e),color:"bg-red-100 text-red-800"}),(0,s.jsx)(C,{options:y,selectedItems:n.weaknesses,onAdd:e=>W("weaknesses",e),placeholder:"Add weakness..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Immunities"}),(0,s.jsx)(k,{items:n.immunities,onRemove:e=>J("immunities",e),color:"bg-purple-100 text-purple-800"}),(0,s.jsx)(C,{options:y,selectedItems:[...n.resistances,...n.immunities],onAdd:e=>W("immunities",e),placeholder:"Add immunity..."})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Senses & Movement"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senses"}),(0,s.jsx)(k,{items:n.senses,onRemove:e=>J("senses",e),color:"bg-blue-100 text-blue-800"}),(0,s.jsx)(C,{options:j,selectedItems:n.senses,onAdd:e=>W("senses",e),placeholder:"Add sense..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Movement Types"}),(0,s.jsx)(k,{items:n.movementTypes,onRemove:e=>J("movementTypes",e),color:"bg-amber-100 text-amber-800"}),(0,s.jsx)(C,{options:v,selectedItems:n.movementTypes,onAdd:e=>W("movementTypes",e),placeholder:"Add movement..."})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Condition Immunities"}),(0,s.jsx)(k,{items:n.conditionImmunities,onRemove:e=>J("conditionImmunities",e),color:"bg-gray-200 text-gray-800"}),(0,s.jsx)(C,{options:N,selectedItems:n.conditionImmunities,onAdd:e=>W("conditionImmunities",e),placeholder:"Add condition immunity..."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Skills"}),(0,s.jsxs)("span",{className:(0,i.cn)("text-sm font-medium",K.skillRemaining<0?"text-red-600":"text-gray-500"),children:["Remaining: ",K.skillRemaining]})]}),0===n.skills.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic",children:"No skills added"}):(0,s.jsx)("div",{className:"space-y-2 mb-4",children:n.skills.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>{var s;return s=e.name,void d(e=>({...e,skills:e.skills.filter(e=>e.name!==s)}))},className:"text-red-500 hover:text-red-700",children:"×"}),(0,s.jsx)("span",{className:"font-medium flex-1",children:e.name}),(0,s.jsxs)("label",{className:"flex items-center gap-1 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.proficient,onChange:s=>X(e.name,{proficient:s.target.checked})}),"Prof"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:()=>X(e.name,{value:Math.max(0,e.value-1)}),className:"w-6 h-6 bg-gray-200 rounded text-sm",children:"−"}),(0,s.jsx)("span",{className:"w-6 text-center",children:e.value}),(0,s.jsx)("button",{onClick:()=>X(e.name,{value:e.value+1}),className:"w-6 h-6 bg-primary-600 text-white rounded text-sm",children:"+"})]})]},e.name))}),(0,s.jsx)(C,{options:f,selectedItems:n.skills.map(e=>e.name),onAdd:e=>{n.skills.find(s=>s.name===e)||d(s=>({...s,skills:[...s.skills,{name:e,value:0,proficient:!1}]}))},placeholder:"Add skill..."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Languages"}),(0,s.jsx)(k,{items:n.languages,onRemove:e=>J("languages",e),color:"bg-teal-100 text-teal-800"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("input",{type:"text",value:z,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&Q(),placeholder:"Enter language...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm"}),(0,s.jsx)("button",{onClick:Q,disabled:!z.trim(),className:"px-3 py-1.5 bg-primary-600 text-white rounded text-sm disabled:opacity-50",children:"Add"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Powers"}),0===n.powers.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic mb-4",children:"No powers added"}):(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"EN"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Action"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Duration"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Range"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Area"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Damage"}),(0,s.jsx)("th",{className:"px-3 py-2"})]})}),(0,s.jsx)("tbody",{children:n.powers.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"px-3 py-2 font-medium",children:e.name}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.energy}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.action}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.duration}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.range}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.area}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.damage}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("button",{onClick:()=>d(s=>({...s,powers:s.powers.filter(s=>s.id!==e.id)})),className:"text-red-500 hover:text-red-700",children:"×"})})]},e.id))})]})}),(0,s.jsx)("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Add Power"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Techniques"}),0===n.techniques.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic mb-4",children:"No techniques added"}):(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"EN"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"TP"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Action"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Weapon"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Damage"}),(0,s.jsx)("th",{className:"px-3 py-2"})]})}),(0,s.jsx)("tbody",{children:n.techniques.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"px-3 py-2 font-medium",children:e.name}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.energy}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.tp}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.action}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.weapon}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.damage}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("button",{onClick:()=>d(s=>({...s,techniques:s.techniques.filter(s=>s.id!==e.id)})),className:"text-red-500 hover:text-red-700",children:"×"})})]},e.id))})]})}),(0,s.jsx)("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Add Technique"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Feats"}),0===n.feats.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic mb-4",children:"No feats added"}):(0,s.jsx)("div",{className:"space-y-2 mb-4",children:n.feats.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>d(s=>({...s,feats:s.feats.filter(s=>s.id!==e.id)})),className:"text-red-500 hover:text-red-700 mt-0.5",children:"×"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),e.description&&(0,s.jsx)("div",{className:"text-sm text-gray-500 line-clamp-2",children:e.description})]})]},e.id))}),(0,s.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Add Feat"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Armaments"}),0===n.armaments.length?(0,s.jsx)("p",{className:"text-sm text-gray-400 italic mb-4",children:"No armaments added"}):(0,s.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Type"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"TP"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Currency"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Rarity"}),(0,s.jsx)("th",{className:"px-3 py-2"})]})}),(0,s.jsx)("tbody",{children:n.armaments.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"px-3 py-2 font-medium",children:e.name}),(0,s.jsx)("td",{className:"px-3 py-2 capitalize",children:e.type}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.tp}),(0,s.jsxs)("td",{className:"px-3 py-2",children:[e.currency,"gp"]}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.rarity}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("button",{onClick:()=>d(s=>({...s,armaments:s.armaments.filter(s=>s.id!==e.id)})),className:"text-red-500 hover:text-red-700",children:"×"})})]},e.id))})]})}),(0,s.jsx)("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Add Armament"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Description"}),(0,s.jsx)("textarea",{value:n.description,onChange:e=>O({description:e.target.value}),placeholder:"Describe this creature's appearance, behavior, and special abilities...",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg resize-none"})]})]}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Creature Summary"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-lg font-bold",children:n.name||"Unnamed Creature"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Level ",n.level," ",n.size.charAt(0).toUpperCase()+n.size.slice(1)," ",n.type]})]}),(0,s.jsxs)("div",{className:"flex justify-between p-2 bg-red-50 rounded",children:[(0,s.jsx)("span",{className:"text-gray-700",children:"Max Health"}),(0,s.jsx)("span",{className:"font-bold text-red-600",children:K.maxHealth})]}),(0,s.jsxs)("div",{className:"flex justify-between p-2 bg-blue-50 rounded",children:[(0,s.jsx)("span",{className:"text-gray-700",children:"Max Energy"}),(0,s.jsx)("span",{className:"font-bold text-blue-600",children:K.maxEnergy})]}),(0,s.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"text-gray-700",children:"Speed"}),(0,s.jsx)("span",{className:"font-bold",children:K.speed})]}),(0,s.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"text-gray-700",children:"Evasion"}),(0,s.jsx)("span",{className:"font-bold",children:K.evasion})]}),(0,s.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"text-gray-700",children:"Proficiency"}),(0,s.jsxs)("span",{className:"font-bold",children:["+",K.proficiency]})]}),n.resistances.length>0&&(0,s.jsxs)("div",{className:"p-2 bg-green-50 rounded",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Resistances"}),(0,s.jsx)("div",{className:"text-sm font-medium text-green-700",children:n.resistances.join(", ")})]}),n.weaknesses.length>0&&(0,s.jsxs)("div",{className:"p-2 bg-red-50 rounded",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Weaknesses"}),(0,s.jsx)("div",{className:"text-sm font-medium text-red-700",children:n.weaknesses.join(", ")})]}),n.immunities.length>0&&(0,s.jsxs)("div",{className:"p-2 bg-purple-50 rounded",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Immunities"}),(0,s.jsx)("div",{className:"text-sm font-medium text-purple-700",children:n.immunities.join(", ")})]}),n.senses.length>0&&(0,s.jsxs)("div",{className:"p-2 bg-blue-50 rounded",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Senses"}),(0,s.jsx)("div",{className:"text-sm font-medium text-blue-700",children:n.senses.join(", ")})]}),n.languages.length>0&&(0,s.jsxs)("div",{className:"p-2 bg-teal-50 rounded",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Languages"}),(0,s.jsx)("div",{className:"text-sm font-medium text-teal-700",children:n.languages.join(", ")})]})]})]})})]}),(0,s.jsx)(P,{isOpen:o,onClose:()=>x(!1),onSelect:e=>d(s=>({...s,powers:[...s.powers,e]}))}),(0,s.jsx)(S,{isOpen:h,onClose:()=>D(!1),onSelect:e=>d(s=>({...s,techniques:[...s.techniques,e]}))}),(0,s.jsx)(A,{isOpen:M,onClose:()=>F(!1),onSelect:e=>d(s=>({...s,feats:[...s.feats,e]})),selectedFeats:n.feats}),(0,s.jsx)(R,{isOpen:H,onClose:()=>q(!1),onSelect:e=>d(s=>({...s,armaments:[...s.armaments,e]})),selectedArmaments:n.armaments}),(0,s.jsx)(T,{isOpen:E,onClose:()=>L(!1),onSelect:e=>d(e)})]})}function M(){return(0,s.jsx)(n.ProtectedRoute,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,s.jsx)(D,{})})})}e.s(["default",()=>M])}]);